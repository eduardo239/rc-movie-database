(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},58:function(e,t,r){"use strict";r.r(t);var n,c=r(1),a=r.n(c),i=r(21),s=r.n(i),l=(r(36),r(37),r(38),r(39),r(40),r(41),r(42),r(2)),o=r.n(l),u=r(3),d=r(4),j=r(31),b=Object(j.a)("https://bkoudjhxmucqwexjokvq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyMTk0OTMyNCwiZXhwIjoxOTM3NTI1MzI0fQ.XhpY5c-ehSe6nCYx-zBkIDU7nPuuMJjnStokMcxBNEY"),f=function(e,t,r,n,c){n({error:e,text:t,type:r}),setTimeout((function(){return n({error:!1,text:"",type:""})}),c)},p=function(e){return e.replace(/<\/?[^>]+(>|$)/g,"")},h=function(e){return null===e||void 0===e?"":e.split(",").map((function(e){return e.trim().toLowerCase()}))},O=function(e){return null===e||void 0===e?"":e.map((function(e){return e.trim().charAt(0).toUpperCase()+e.slice(1)})).join(", ")},m=function(e){var t=new Date(e),r=t.getFullYear(),n=t.getMonth(),c=t.getDate();return"".concat(c<10?"0"+c:c,"/").concat(n<10?"0"+(n+1):n+1,"/").concat(r)},x=function(e){if("http"!==e&&""!==e&&e){var t=e.split("/")[3].split("=")[1];return"https://www.youtube.com/embed/".concat(t)}},v=function(e,t){if(null!==e)return e.length>10?e.slice(0,t)+"...":e},g=r(5),y=r.p+"static/media/logo.36d4b45f.svg",w=r(0),C=function(){return Object(w.jsx)(g.b,{to:"/",children:Object(w.jsx)("div",{className:"flex-justify-center flex",children:Object(w.jsx)("img",{src:y,alt:"movie database"})})})},N=r.p+"static/media/mdi_alert-circle-outline.6973f8d8.svg",k=r.p+"static/media/mdi_information-outline.a6fa84c7.svg",L=r.p+"static/media/mdi_alert-outline.a8083910.svg",M=r.p+"static/media/mdi_check-circle-outline.0c559222.svg",S=function(e){var t=e.data,r=e.type;return Object(w.jsx)("div",{className:"my-3",children:Object(w.jsxs)("div",{className:"alert ".concat(r),children:[Object(w.jsx)("img",{src:"alert-error"===r?N:"alert-info"===r?k:"alert-warning"===r?L:"alert-success"===r?M:"",alt:"Message"}),t]})})},E=function(){var e=Object(c.useState)({error:null,text:null,type:null}),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useRef)(),i=Object(c.useRef)(),s=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,c,s,l,u,d,j,p,h,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null===(r=a.current)||void 0===r?void 0:r.value,l=null===(c=i.current)||void 0===c?void 0:c.value,"LOGIN"!==t){e.next=8;break}return e.next=5,b.auth.signIn({email:s,password:l});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,b.auth.signUp({email:s,password:l});case 10:e.t0=e.sent;case 11:if(u=e.t0,d=u.user,!(j=u.error)){e.next=18;break}f(!0,j.message,"alert-error",n,3e3),e.next=26;break;case 18:if("REGISTER"!==t){e.next=25;break}return e.next=21,b.from("profile").insert({user_id:d.id,name:"User"});case 21:p=e.sent,h=p.data,(O=p.error)?console.error(O):console.log(h);case 25:f(!1,"An email has been sent to you for verification!","alert-info",n,9e3);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.auth.signIn({provider:t});case 2:r=e.sent,(n=r.error)&&console.error("Error: ",n.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:"row justify-content-md-center my-3",children:[Object(w.jsx)(C,{}),Object(w.jsxs)("div",{className:"col-md-6 col-12 my-5",children:[Object(w.jsx)("h2",{children:"Login"}),Object(w.jsxs)("div",{className:"mb-4 field",children:[Object(w.jsxs)("label",{htmlFor:"email",children:[Object(w.jsx)("span",{children:"*"}),"Email:"]}),Object(w.jsx)("input",{type:"email",name:"email",ref:a,required:!0})]}),Object(w.jsxs)("div",{className:"mb-4 field",children:[Object(w.jsxs)("label",{htmlFor:"password",children:[Object(w.jsx)("span",{children:"*"}),"Password:"]}),Object(w.jsx)("input",{type:"password",name:"password",ref:i,required:!0})]}),Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)("button",{className:"btn btn-secondary flex-1",type:"submit",onClick:function(){return s("REGISTER").catch(console.error)},children:"Sign Up"}),Object(w.jsx)("button",{className:"btn btn-primary flex-1",onClick:function(){return s("LOGIN")},type:"button",children:"Sign In"})]})]}),!!r.text&&Object(w.jsx)(S,{data:r.text,type:r.type}),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:Object(w.jsx)("div",{})}),Object(w.jsx)("div",{children:Object(w.jsx)("small",{children:"Or continue with"})})]}),Object(w.jsx)("div",{children:Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{onClick:function(){return l("github")},type:"button",className:"btn-icon btn-primary",children:Object(w.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(w.jsx)("path",{d:"M16.0001 2.66675C14.2491 2.66675 12.5153 3.01162 10.8976 3.68169C9.27996 4.35175 7.81011 5.33388 6.57199 6.57199C4.07151 9.07248 2.66675 12.4639 2.66675 16.0001C2.66675 21.8934 6.49341 26.8934 11.7867 28.6667C12.4534 28.7734 12.6667 28.3601 12.6667 28.0001V25.7467C8.97341 26.5467 8.18675 23.9601 8.18675 23.9601C7.57341 22.4134 6.70675 22.0001 6.70675 22.0001C5.49342 21.1734 6.80008 21.2001 6.80008 21.2001C8.13341 21.2934 8.84008 22.5734 8.84008 22.5734C10.0001 24.6001 11.9601 24.0001 12.7201 23.6801C12.8401 22.8134 13.1867 22.2267 13.5601 21.8934C10.6001 21.5601 7.49341 20.4134 7.49341 15.3334C7.49341 13.8534 8.00008 12.6667 8.86675 11.7201C8.73342 11.3867 8.26675 10.0001 9.00008 8.20008C9.00008 8.20008 10.1201 7.84008 12.6667 9.56008C13.7201 9.26675 14.8667 9.12008 16.0001 9.12008C17.1334 9.12008 18.2801 9.26675 19.3334 9.56008C21.8801 7.84008 23.0001 8.20008 23.0001 8.20008C23.7334 10.0001 23.2667 11.3867 23.1334 11.7201C24.0001 12.6667 24.5067 13.8534 24.5067 15.3334C24.5067 20.4267 21.3867 21.5467 18.4134 21.8801C18.8934 22.2934 19.3334 23.1067 19.3334 24.3467V28.0001C19.3334 28.3601 19.5467 28.7867 20.2267 28.6667C25.5201 26.8801 29.3334 21.8934 29.3334 16.0001C29.3334 14.2491 28.9885 12.5153 28.3185 10.8976C27.6484 9.27996 26.6663 7.81011 25.4282 6.57199C24.1901 5.33388 22.7202 4.35175 21.1025 3.68169C19.4849 3.01162 17.751 2.66675 16.0001 2.66675V2.66675Z",fill:"#F7F7F9"})})}),Object(w.jsx)("button",{onClick:function(){return l("google")},type:"button",className:"btn-icon btn-primary",children:Object(w.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(w.jsx)("path",{d:"M28.4668 14.8001H16.2401V18.4401H24.9201C24.4801 23.5201 20.2535 25.6934 16.2535 25.6934C11.1468 25.6934 6.66679 21.6667 6.66679 16.0001C6.66679 10.5334 10.9335 6.30675 16.2668 6.30675C20.3868 6.30675 22.8001 8.93341 22.8001 8.93341L25.3335 6.29341C25.3335 6.29341 22.0801 2.66675 16.1335 2.66675C8.56012 2.66675 2.70679 9.06675 2.70679 16.0001C2.70679 22.7334 8.21345 29.3334 16.3335 29.3334C23.4668 29.3334 28.6668 24.4401 28.6668 17.2134C28.6668 15.6801 28.4668 14.8001 28.4668 14.8001Z",fill:"#F7F7F9"})})})]})})]})]})})},V=r(6),I=["title","titleId"];function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function H(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function P(e,t){var r=e.title,a=e.titleId,i=H(e,I);return c.createElement("svg",B({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),r?c.createElement("title",{id:a},r):null,n||(n=c.createElement("path",{d:"M16 17V14H9V10H16V7L21 12L16 17ZM14 2C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6H14V4H5V20H14V18H16V20C16 20.5304 15.7893 21.0391 15.4142 21.4142C15.0391 21.7893 14.5304 22 14 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V4C3 3.46957 3.21071 2.96086 3.58579 2.58579C3.96086 2.21071 4.46957 2 5 2H14Z",fill:"#F7F7F9"})))}var A,Z=c.forwardRef(P),R=(r.p,["title","titleId"]);function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function W(e,t){var r=e.title,n=e.titleId,a=q(e,R);return c.createElement("svg",F({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,A||(A=c.createElement("path",{d:"M12 2C10.6868 2 9.38642 2.25866 8.17317 2.7612C6.95991 3.26375 5.85752 4.00035 4.92893 4.92893C3.05357 6.8043 2 9.34784 2 12C2 14.6522 3.05357 17.1957 4.92893 19.0711C5.85752 19.9997 6.95991 20.7362 8.17317 21.2388C9.38642 21.7413 10.6868 22 12 22C14.6522 22 17.1957 20.9464 19.0711 19.0711C20.9464 17.1957 22 14.6522 22 12C22 10.6868 21.7413 9.38642 21.2388 8.17317C20.7362 6.95991 19.9997 5.85752 19.0711 4.92893C18.1425 4.00035 17.0401 3.26375 15.8268 2.7612C14.6136 2.25866 13.3132 2 12 2V2ZM12 8.39C13.6135 9.43829 15.4958 9.99743 17.42 10C18.2 10 18.95 9.91 19.67 9.74C19.88 10.45 20 11.21 20 12C20 16.41 16.41 20 12 20C9 20 6.39 18.34 5 15.89L6.75 14V13C6.75 12.6685 6.8817 12.3505 7.11612 12.1161C7.35054 11.8817 7.66848 11.75 8 11.75C8.33152 11.75 8.64946 11.8817 8.88388 12.1161C9.1183 12.3505 9.25 12.6685 9.25 13V14H12V8.39ZM16 11.75C15.6685 11.75 15.3505 11.8817 15.1161 12.1161C14.8817 12.3505 14.75 12.6685 14.75 13C14.75 13.3315 14.8817 13.6495 15.1161 13.8839C15.3505 14.1183 15.6685 14.25 16 14.25C16.3315 14.25 16.6495 14.1183 16.8839 13.8839C17.1183 13.6495 17.25 13.3315 17.25 13C17.25 12.6685 17.1183 12.3505 16.8839 12.1161C16.6495 11.8817 16.3315 11.75 16 11.75Z",fill:"#1B1B1B"})))}var _,T=c.forwardRef(W),D=(r.p,["title","titleId"]);function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function Y(e,t){var r=e.title,n=e.titleId,a=U(e,D);return c.createElement("svg",G({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,_||(_=c.createElement("path",{d:"M3 6H21V8H3V6ZM3 11H21V13H3V11ZM3 16H21V18H3V16Z",fill:"#F7F7F9"})))}var J,z=c.forwardRef(Y),X=(r.p,["title","titleId"]);function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function $(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function K(e,t){var r=e.title,n=e.titleId,a=$(e,X);return c.createElement("svg",Q({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,J||(J=c.createElement("path",{d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",fill:"#1B1B1B"})))}var ee=c.forwardRef(K),te=(r.p,r(10)),re=r(15),ne=Object(te.b)({name:"movies",initialState:{loading:!1,data:null,error:null},reducers:{reqGetMovies:function(e){e.loading=!0,e.error=null},sucGetMovies:function(e,t){e.loading=!1,e.data=t.payload},errGetMovies:function(e,t){e.loading=!1,e.error=t.payload}}}),ce=Object(te.b)({name:"movie",initialState:{loading:!1,data:null,error:null},reducers:{reqGetMovie:function(e){e.loading=!0,e.error=null},sucGetMovie:function(e,t){e.loading=!1,e.data=t.payload},errGetMovie:function(e,t){e.loading=!1,e.error=t.payload}}}),ae=Object(te.b)({name:"movie",initialState:{loading:!1,error:null},reducers:{reqDelMovie:function(e){e.loading=!0,e.error=null},sucDelMovie:function(e){e.loading=!1},errDelMovie:function(e,t){e.loading=!1,e.error=t.payload}}}),ie=Object(te.b)({name:"search",initialState:{loading:!1,data:null,error:null},reducers:{reqSearchMovie:function(e){e.loading=!0,e.error=null},sucSearchMovie:function(e,t){e.loading=!1,e.data=t.payload},errSearchMovie:function(e,t){e.loading=!1,e.error=t.payload},resetSearchMovie:function(e){e.loading=!1,e.error=!1,e.data=null}}}),se=Object(te.b)({name:"views",initialState:{loading:!1,data:null,error:null},reducers:{reqPageView:function(e){e.loading=!0,e.error=null},sucPageView:function(e,t){e.loading=!1,e.data=t.payload},errPageView:function(e,t){e.loading=!1,e.error=t.payload}}}),le=Object(re.b)({movies:ne.reducer,movie:ce.reducer,search:ie.reducer,views:se.reducer}),oe=ne.actions,ue=oe.reqGetMovies,de=oe.sucGetMovies,je=oe.errGetMovies,be=ce.actions,fe=be.reqGetMovie,pe=be.sucGetMovie,he=be.errGetMovie,Oe=ae.actions,me=Oe.reqDelMovie,xe=Oe.sucDelMovie,ve=Oe.errDelMovie,ge=ie.actions,ye=ge.reqSearchMovie,we=ge.sucSearchMovie,Ce=ge.errSearchMovie,Ne=ge.resetSearchMovie,ke=se.actions,Le=ke.sucPageView,Me=ke.errPageView,Se=le,Ee=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(ue());case 2:return e.next=4,b.from("movies").select("*");case 4:if(r=e.sent,n=r.data,!(c=r.error)){e.next=11;break}je(c),e.next=13;break;case 11:return e.next=13,t(de(n));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ve=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(fe());case 2:return t.next=4,b.from("movies").select("*").eq("id",e);case 4:if(n=t.sent,c=n.data,!(a=n.error)){t.next=11;break}he(a),t.next=13;break;case 11:return t.next=13,r(pe(c[0]));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(me());case 2:return t.next=4,b.from("movies").delete().eq("id",e);case 4:n=t.sent,(c=n.error)?ve(c):r(xe());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Be=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(ye());case 2:return t.next=4,b.from("movies").select("*").ilike("name","%".concat(e,"%"));case 4:if(n=t.sent,c=n.data,!(a=n.error)){t.next=11;break}Ce(a),t.next=13;break;case 11:return t.next=13,r(we(c));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},He=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.from("movies").select("*").eq("id",e).single();case 2:if(n=t.sent,c=n.data,a=n.error,!c){t.next=8;break}return t.next=8,b.from("movies").update({views:c.views+1}).eq("id",e);case 8:if(!a){t.next=12;break}Me(a),t.next=14;break;case 12:return t.next=14,r(Le(c));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Pe=r(8),Ae=function(){return Object(w.jsx)("div",{className:"flex flex-justify-center w-100",children:Object(w.jsx)("div",{className:"p-3 spinner"})})},Ze=r.p+"static/media/poster.d7078153.jpg",Re=function(){var e=Object(V.b)(),t=(Object(Pe.f)(),Object(c.useState)("")),r=Object(d.a)(t,2),n=r[0],a=r[1],i=Object(V.c)((function(e){return e.movies.search})),s=i.data,l=(i.loading,function(){var t=Object(u.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(""),t.next=3,e(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Ne());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(c.useEffect)((function(){n.length>=3&&Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Be(n));case 2:case"end":return t.stop()}}),t)})))()}),[n,e]),Object(w.jsxs)("div",{className:"flex-1 App-search-container",children:[Object(w.jsx)("input",{type:"text",id:"search",placeholder:"search movies",onChange:function(e){return a(e.target.value)},value:n,autoFocus:!0,className:"w-100"}),Object(w.jsx)("div",{className:"App-search-result",style:{display:"".concat(s&&n?"block":"none")},children:n.length>=3&&s&&s.length>0&&s.map((function(e){return Object(w.jsx)(g.b,{className:"link-search",to:"/movies/".concat(e.id),onClick:l,children:Object(w.jsxs)("div",{className:"flex flex-align-center p-1 gap-1 text-left",children:[Object(w.jsx)("img",{className:"App-poster-mini",src:e.poster||Ze,alt:e.name}),Object(w.jsxs)("div",{className:"App-search-result--body",children:[Object(w.jsx)("h5",{className:"mb-1",children:e.name}),Object(w.jsx)("p",{children:e.storyline&&v(e.storyline,150)||"No storyline"})]})]})})}))})]})},Fe=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(V.c)((function(e){return e.user.login})).data,i=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!1),b.auth.signOut().catch(console.error);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){n(!1)};return Object(w.jsxs)("div",{className:"container mt-3",children:[Object(w.jsxs)("div",{class:"row flex flex-align-center ",children:[Object(w.jsx)("div",{class:"col-lg-2 col-12 flex flex-justify-start",children:Object(w.jsx)(C,{})}),Object(w.jsx)("div",{class:"col-lg-6 col-12",children:Object(w.jsx)(Re,{})}),Object(w.jsxs)("div",{className:"col-lg-4 col-12 flex flex-align-center flex-justify-end gap-2",children:[Object(w.jsxs)("div",{className:"svg-hover flex flex-align-center",onClick:function(){n(!0)},style:{cursor:"pointer"},children:[Object(w.jsx)(z,{}),"Menu"]}),a&&Object(w.jsx)(g.b,{className:"btn-primary svg-icon",to:"/profile/".concat(a.id),children:Object(w.jsx)(T,{})}),Object(w.jsx)("div",{children:Object(w.jsx)("button",{className:"btn-icon btn-transparent",onClick:i,children:Object(w.jsx)(Z,{})})}),r&&Object(w.jsxs)("div",{className:"App-menu-modal ",children:[Object(w.jsx)("div",{className:"App-menu-button--close",children:Object(w.jsx)("button",{className:"btn",onClick:s,children:Object(w.jsx)(ee,{})})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:"Menu"}),Object(w.jsxs)("ul",{className:"App-menu-content App-fadeIn mt-3",children:[Object(w.jsx)("li",{children:Object(w.jsx)(g.b,{to:"/",onClick:s,children:"Home"})}),Object(w.jsx)("li",{children:Object(w.jsx)(g.b,{to:"/movies",onClick:s,children:"Movies"})}),Object(w.jsx)("li",{children:Object(w.jsx)(g.b,{to:"/tv",onClick:s,children:"TV"})}),Object(w.jsx)("li",{children:Object(w.jsx)(g.b,{to:"/add",onClick:s,children:"Add"})})]})]})]})]})]}),Object(w.jsx)("br",{})]})},qe=function(e){var t=e.name,r=e.storyline,n=e.date,c=e.poster;return Object(w.jsxs)("div",{className:"App-card-2",children:[Object(w.jsx)("img",{src:c||Ze,alt:t}),Object(w.jsxs)("section",{children:[Object(w.jsx)("h4",{children:t}),Object(w.jsx)("p",{children:(null===r||void 0===r?void 0:r.slice(0,40))+"..."||!1}),Object(w.jsx)("small",{children:n})]})]})},We=function(){var e=Object(V.b)(),t=Object(c.useState)("movie"),r=Object(d.a)(t,2),n=r[0],a=r[1],i=Object(V.c)((function(e){return e.movies.movies})),s=i.data,l=i.loading,j=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a(!n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ee());case 2:case"end":return t.stop()}}),t)})))()}),[e]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"Movies by Type"}),Object(w.jsxs)("section",{className:"mb-3",children:[Object(w.jsx)("button",{className:"btn-inline btn-primary me-1",onClick:j,children:"Movies"}),Object(w.jsx)("button",{className:"btn-inline btn-secondary",onClick:j,children:"Tv"})]}),Object(w.jsx)("h2",{children:"Movies"}),Object(w.jsx)("div",{className:"flex wrap gap-1 flex-justify-center",children:l?Object(w.jsx)(Ae,{}):s?s.map((function(e){return Object(w.jsx)(g.b,{to:"movies/".concat(e.id),className:"flex",children:Object(w.jsx)(qe,{name:e.name,storyline:e.storyline,date:e.year,poster:e.poster})},e.id)})).reverse():Object(w.jsx)("p",{children:"movies not found"})})]})},_e=r(11),Te=r(16),De=["component"];function Ge(e){var t=e.component,r=Object(Te.a)(e,De);return Object(w.jsx)(Pe.a,Object(_e.a)(Object(_e.a)({},r),{},{render:function(e){return Object(w.jsx)(t,Object(_e.a)({},e))}}))}var Ue,Ye=r(30),Je=(r(57),r.p+"static/media/posterWide.f19ffe31.jpg"),ze=r.p+"static/media/posterWide1.e8dfbd4e.jpg",Xe=r.p+"static/media/posterWide2.baac3229.jpg",Qe=function(e){var t=e.data;return Object(w.jsxs)("div",{div:!0,className:"flex wrap flex-justify-center",children:[Object(w.jsx)("div",{className:"App-slide",children:Object(w.jsxs)(Ye.Slide,{children:[Object(w.jsx)("div",{className:"each-slide",children:Object(w.jsx)("div",{style:{backgroundImage:"url(".concat(t[0].image||Je,")")},children:Object(w.jsx)("span",{children:t[0].name})})}),Object(w.jsx)("div",{className:"each-slide",children:Object(w.jsx)("div",{style:{backgroundImage:"url(".concat(t[1].image||ze,")")},children:Object(w.jsx)("span",{children:t[1].name})})}),Object(w.jsx)("div",{className:"each-slide",children:Object(w.jsx)("div",{style:{backgroundImage:"url(".concat(t[2].image||Xe,")")},children:Object(w.jsx)("span",{children:t[2].name})})})]})}),Object(w.jsxs)("div",{className:"App-slide-side",children:[Object(w.jsx)("img",{className:"App-slide--img",src:t[0].image||Je,alt:"Movie Database"}),Object(w.jsx)("img",{className:"App-slide--img",src:t[1].image||ze,alt:"Movie Database"}),Object(w.jsx)("img",{className:"App-slide--img",src:t[2].image||Xe,alt:"Movie Database"})]})]})},$e=function(){var e=Object(V.c)((function(e){return e.movies.movies})),t=e.data,r=e.loading;return Object(w.jsx)(w.Fragment,{children:r?Object(w.jsx)(Ae,{}):t&&t.length>3?Object(w.jsx)(Qe,{data:t&&t.slice(1,4)}):Object(w.jsx)(S,{data:"Slide not found.",type:"alert-info"})})},Ke=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(),i=Object(d.a)(a,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function e(){var t,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,b.from("movies").select("*").limit(5).order("views",{ascending:!1});case 3:t=e.sent,r=t.data,(c=t.error)?console.error(c):n(r),l(!1);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"mt-5",children:"Top 10"}),Object(w.jsx)("div",{className:"flex wrap gap-1 flex-justify-center",children:s?Object(w.jsx)(Ae,{}):r&&r.map((function(e){return Object(w.jsx)(g.b,{to:"movies/".concat(e.id),className:"flex",children:Object(w.jsx)(qe,{name:e.name,storyline:e.storyline,date:e.year,poster:e.poster})},e.id)}))})]})},et=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(),i=Object(d.a)(a,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function e(){var t,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,b.from("movies").select("*").limit(5).order("created_at",{ascending:!1});case 3:t=e.sent,r=t.data,(c=t.error)?console.error(c):n(r),l(!1);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"mt-5",children:"News"}),Object(w.jsx)("div",{className:"flex wrap gap-1 flex-justify-center",children:s?Object(w.jsx)(Ae,{}):r&&r.map((function(e){return Object(w.jsx)(g.b,{to:"movies/".concat(e.id),className:"flex",children:Object(w.jsx)(qe,{name:e.name,storyline:e.storyline,date:e.year,poster:e.poster})},e.id)}))})]})},tt=function(){var e=Object(V.b)();return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Ee());case 2:case"end":return t.stop()}}),t)})))()}),[e]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)($e,{}),Object(w.jsx)(Ke,{}),Object(w.jsx)(et,{})]})},rt=["title","titleId"];function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ct(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function at(e,t){var r=e.title,n=e.titleId,a=ct(e,rt);return c.createElement("svg",nt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Ue||(Ue=c.createElement("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"#06D6A0"})))}var it,st=c.forwardRef(at),lt=(r.p,["title","titleId"]);function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ut(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function dt(e,t){var r=e.title,n=e.titleId,a=ut(e,lt);return c.createElement("svg",ot({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,it||(it=c.createElement("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"#CCCCCC"})))}var jt,bt=c.forwardRef(dt),ft=(r.p,function(e){var t=e.loadMovie,r=Object(V.b)(),n=Object(c.useState)({error:!1,text:"",type:""}),a=Object(d.a)(n,2),i=a[0],s=a[1],l=Object(V.c)((function(e){return e.movies.movies})),j=l.data,b=l.loading,p=function(){var e=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(Ie(t));case 3:f(!1,"Movie successfully deleted.","alert-success",s,3e3),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),f(!0,e.t0.message,"alert-error",s,3e3);case 9:return e.prev=9,e.next=12,r(Ee());case 12:return e.finish(9);case 13:case"end":return e.stop()}}),e,null,[[0,6,9,13]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Ee());case 2:case"end":return e.stop()}}),e)})))()}),[r]),Object(w.jsxs)("div",{className:"mt-4",children:[Object(w.jsx)("h2",{children:"Movie List"}),!!i.text&&Object(w.jsx)(S,{data:i.text,type:i.type}),b&&Object(w.jsx)(Ae,{}),(null===j||void 0===j?void 0:j.length)>0?Object(w.jsxs)("table",{className:"table-content",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"id"}),Object(w.jsx)("th",{children:"name"}),Object(w.jsx)("th",{children:"year"}),Object(w.jsx)("th",{children:"storyline"}),Object(w.jsx)("th",{children:"cast"}),Object(w.jsx)("th",{children:"tags"}),Object(w.jsx)("th",{children:"trailer"}),Object(w.jsx)("th",{children:"image"}),Object(w.jsx)("th",{children:"poster"}),Object(w.jsx)("th",{children:"type"}),Object(w.jsx)("th",{children:"options"})]})}),j.map((function(e){return Object(w.jsx)("tbody",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:e.id.slice(0,4)+"..."}),Object(w.jsx)("td",{children:e.name}),Object(w.jsx)("td",{children:e.year}),Object(w.jsx)("td",{children:e.storyline?e.storyline.slice(0,50)+"...":""}),Object(w.jsx)("td",{children:e.cast}),Object(w.jsx)("td",{children:e.tags&&e.tags.join(", ")}),Object(w.jsx)("td",{children:Object(w.jsx)("div",{className:"flex flex-justify-center",children:e.trailer.length>0?Object(w.jsx)(st,{}):Object(w.jsx)(bt,{})})}),Object(w.jsx)("td",{children:e.image?Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(e.image),children:"URL"}):"null"}),Object(w.jsx)("td",{children:e.poster?Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(e.poster),children:"URL"}):"null"}),Object(w.jsx)("td",{children:e.type}),Object(w.jsx)("td",{children:Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)("a",{href:"#buttons",className:"btn-a btn-secondary me-1",onClick:function(){return p(e.id)},children:Object(w.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[Object(w.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17.25 6.75L6.75 17.25"}),Object(w.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6.75 6.75L17.25 17.25"})]})}),Object(w.jsx)("a",{href:"#content",className:"btn-a btn-secondary me-1",onClick:function(){return t(e,"movie")},children:Object(w.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[Object(w.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 19.25L9 18.25L18.2929 8.95711C18.6834 8.56658 18.6834 7.93342 18.2929 7.54289L16.4571 5.70711C16.0666 5.31658 15.4334 5.31658 15.0429 5.70711L5.75 15L4.75 19.25Z"}),Object(w.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19.25 19.25H13.75"})]})}),Object(w.jsx)(g.b,{to:"movies/".concat(e.id),className:"btn-a btn-secondary",children:Object(w.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(w.jsx)("path",{d:"M12 9C12.7956 9 13.5587 9.31607 14.1213 9.87868C14.6839 10.4413 15 11.2044 15 12C15 12.7956 14.6839 13.5587 14.1213 14.1213C13.5587 14.6839 12.7956 15 12 15C11.2044 15 10.4413 14.6839 9.87868 14.1213C9.31607 13.5587 9 12.7956 9 12C9 11.2044 9.31607 10.4413 9.87868 9.87868C10.4413 9.31607 11.2044 9 12 9V9ZM12 4.5C17 4.5 21.27 7.61 23 12C21.27 16.39 17 19.5 12 19.5C7 19.5 2.73 16.39 1 12C2.73 7.61 7 4.5 12 4.5ZM3.18 12C3.98825 13.6503 5.24331 15.0407 6.80248 16.0133C8.36165 16.9858 10.1624 17.5013 12 17.5013C13.8376 17.5013 15.6383 16.9858 17.1975 16.0133C18.7567 15.0407 20.0117 13.6503 20.82 12C20.0117 10.3497 18.7567 8.95925 17.1975 7.98675C15.6383 7.01424 13.8376 6.49868 12 6.49868C10.1624 6.49868 8.36165 7.01424 6.80248 7.98675C5.24331 8.95925 3.98825 10.3497 3.18 12V12Z",fill:"#1B1B1B"})})})]})})]})},e.id)})).reverse()]}):Object(w.jsx)(S,{data:"Movies not found",type:"alert-info"})]})}),pt=["label","type","id","refs","fn","button"],ht=function(e){var t=e.label,r=e.type,n=e.id,c=e.refs,a=e.fn,i=e.button,s=Object(Te.a)(e,pt);return Object(w.jsxs)("div",{className:"field-button",children:[Object(w.jsxs)("div",{className:"flex-1",children:[Object(w.jsx)("label",{htmlFor:n,className:"form-label",children:t.charAt(0).toUpperCase()+t.slice(1)}),Object(w.jsx)("input",Object(_e.a)({type:r,className:"form-control",id:n,"aria-describedby":n,ref:c},s))]}),Object(w.jsx)("div",{children:Object(w.jsx)("button",{className:"btn-inline btn-secondary field-button--button",onClick:a,children:"".concat(i.length?i:"Click Here")})})]})},Ot=["title","titleId"];function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function xt(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function vt(e,t){var r=e.title,n=e.titleId,a=xt(e,Ot);return c.createElement("svg",mt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,jt||(jt=c.createElement("path",{d:"M20.8401 2.17993L16.9101 2.95993L19.6501 6.49993L21.6201 6.09993L20.8401 2.17993V2.17993ZM13.9701 3.53993L12.0001 3.92993L14.7501 7.45993L16.7101 7.06993L13.9701 3.53993V3.53993ZM9.07008 4.49993L7.10008 4.90993L9.85008 8.43993L11.8101 8.04993L9.07008 4.49993ZM4.16007 5.49993L3.18008 5.68993C2.92247 5.74073 2.67743 5.84188 2.459 5.98758C2.24057 6.13328 2.05305 6.32066 1.90719 6.53898C1.76133 6.75731 1.66001 7.00227 1.60902 7.25984C1.55803 7.51741 1.55839 7.7825 1.61008 8.03993L2.00008 9.99993L6.90008 9.02993L4.16007 5.49993ZM20.0001 11.9999V19.9999H4.00008V11.9999H20.0001ZM22.0001 9.99993H2.00008V19.9999C2.00008 20.5304 2.21079 21.0391 2.58586 21.4141C2.96093 21.7892 3.46964 21.9999 4.00008 21.9999H20.0001C21.1101 21.9999 22.0001 21.1099 22.0001 19.9999V9.99993Z",fill:"#1B1B1B"})))}var gt,yt=c.forwardRef(vt),wt=(r.p,["title","titleId"]);function Ct(){return(Ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Nt(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function kt(e,t){var r=e.title,n=e.titleId,a=Nt(e,wt);return c.createElement("svg",Ct({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,gt||(gt=c.createElement("path",{d:"M8.16 3L6.75 4.41L9.34 7H4C2.89 7 2 7.89 2 9V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V9C22 7.89 21.11 7 20 7H14.66L17.25 4.41L15.84 3L12 6.84L8.16 3ZM4 9H17V19H4V9ZM19.5 9C19.7652 9 20.0196 9.10536 20.2071 9.29289C20.3946 9.48043 20.5 9.73478 20.5 10C20.5 10.2652 20.3946 10.5196 20.2071 10.7071C20.0196 10.8946 19.7652 11 19.5 11C19.2348 11 18.9804 10.8946 18.7929 10.7071C18.6054 10.5196 18.5 10.2652 18.5 10C18.5 9.73478 18.6054 9.48043 18.7929 9.29289C18.9804 9.10536 19.2348 9 19.5 9ZM19.5 12C19.7652 12 20.0196 12.1054 20.2071 12.2929C20.3946 12.4804 20.5 12.7348 20.5 13C20.5 13.2652 20.3946 13.5196 20.2071 13.7071C20.0196 13.8946 19.7652 14 19.5 14C19.2348 14 18.9804 13.8946 18.7929 13.7071C18.6054 13.5196 18.5 13.2652 18.5 13C18.5 12.7348 18.6054 12.4804 18.7929 12.2929C18.9804 12.1054 19.2348 12 19.5 12Z",fill:"#1B1B1B"})))}var Lt,Mt=c.forwardRef(kt),St=(r.p,["title","titleId"]);function Et(){return(Et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vt(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function It(e,t){var r=e.title,n=e.titleId,a=Vt(e,St);return c.createElement("svg",Et({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Lt||(Lt=c.createElement("path",{d:"M10 15L15.19 12L10 9V15ZM21.56 7.17C21.69 7.64 21.78 8.27 21.84 9.07C21.91 9.87 21.94 10.56 21.94 11.16L22 12C22 14.19 21.84 15.8 21.56 16.83C21.31 17.73 20.73 18.31 19.83 18.56C19.36 18.69 18.5 18.78 17.18 18.84C15.88 18.91 14.69 18.94 13.59 18.94L12 19C7.81 19 5.2 18.84 4.17 18.56C3.27 18.31 2.69 17.73 2.44 16.83C2.31 16.36 2.22 15.73 2.16 14.93C2.09 14.13 2.06 13.44 2.06 12.84L2 12C2 9.81 2.16 8.2 2.44 7.17C2.69 6.27 3.27 5.69 4.17 5.44C4.64 5.31 5.5 5.22 6.82 5.16C8.12 5.09 9.31 5.06 10.41 5.06L12 5C16.19 5 18.8 5.16 19.83 5.44C20.73 5.69 21.31 6.27 21.56 7.17V7.17Z",fill:"#E5625E"})))}var Bt,Ht=c.forwardRef(It),Pt=(r.p,["label","type","id","refs"]),At=function(e){var t=e.label,r=e.type,n=e.id,c=e.refs,a=Object(Te.a)(e,Pt);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{htmlFor:n,className:"form-label",children:t.charAt(0).toUpperCase()+t.slice(1)}),Object(w.jsx)("input",Object(_e.a)({type:r,className:"form-control",id:n,"aria-describedby":n,ref:c},a))]})},Zt=["label","id","refs"],Rt=function(e){var t=e.label,r=e.id,n=e.refs,c=Object(Te.a)(e,Zt);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{htmlFor:r,children:t.charAt(0).toUpperCase()+t.slice(1)}),Object(w.jsx)("textarea",Object(_e.a)({className:"form-control",id:r,rows:"3",ref:n},c))]})},Ft=function(){var e=Object(V.b)(),t=Object(c.useState)({error:!1,text:"",type:""}),r=Object(d.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(!0),s=Object(d.a)(i,2),l=s[0],j=s[1],m=Object(c.useState)(!1),x=Object(d.a)(m,2),g=x[0],y=x[1],C=Object(c.useState)(!1),N=Object(d.a)(C,2),k=N[0],L=N[1],M=Object(c.useState)(""),E=Object(d.a)(M,2),I=(E[0],E[1]),B=Object(c.useState)(!0),H=Object(d.a)(B,2),P=H[0],A=H[1],Z=Object(c.useState)(!1),R=Object(d.a)(Z,2),F=R[0],q=R[1],W=Object(c.useState)(null),_=Object(d.a)(W,2),T=_[0],D=_[1],G=Object(c.useRef)(),U=Object(c.useRef)(),Y=Object(c.useRef)(),J=Object(c.useRef)(),z=Object(c.useRef)(),X=Object(c.useRef)(),Q=Object(c.useRef)(),$=Object(c.useRef)(),K=Object(c.useRef)(),ee=Object(c.useRef)(),te=Object(c.useRef)(),re=Object(c.useRef)(),ne=Object(c.useRef)(),ce=Object(c.useRef)(),ae=Object(c.useRef)(),ie=function(){var t=Object(u.a)(o.a.mark((function t(){var r,n,c,i,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ce.current.checked,n=ae.current.checked,c={name:U.current.value.trim(),year:Y.current.value.trim(),director:J.current.value.trim(),poster:z.current.value.trim(),image:X.current.value.trim(),rating:Q.current.value||0,trailer:$.current.value.trim(),tags:h(ee.current.value),cast:h(K.current.value),storyline:te.current.value.trim(),type:r?"movie":"tv"},r||n||f(!0,"Please select movie or tv.","alert-warning",a,5e3),""!==c.name&&""!==c.year){t.next=7;break}return f(!0,"Please enter a number and/or year.","alert-warning",a,3e3),t.abrupt("return");case 7:return t.next=9,b.from("movies").insert([c]);case 9:return i=t.sent,(s=i.error)?f(!0,s.message,"alert-error",a,3e3):f(!1,"Movie successfully added.","alert-success",a,3e3),t.next=14,e(Ee());case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),se=function(){var t=Object(u.a)(o.a.mark((function t(){var r,n,c,i,s,l,u,d,j,p,O,m,x,v,g,y;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=G.current.value,n=U.current.value,c=Y.current.value,i=J.current.value,s=z.current.value,l=X.current.value,u=Q.current.value||0,d=$.current.value,j=h(ee.current.value),p=h(K.current.value),O=te.current.value,m=new Date,x=ce.current.checked?"movie":"tv",v={id:r,name:n,year:c,director:i,poster:s,image:l,rating:u,trailer:d,tags:j,cast:p,storyline:O,updated_at:m,type:x},t.next=16,b.from("movies").update(v).eq("id",r);case 16:if(g=t.sent,!(y=g.error)){t.next=22;break}f(!0,y.message,"alert-error",a,9e3),t.next=25;break;case 22:return f(!1,"Movie successfully updated.","alert-success",a,3e3),t.next=25,e(Ee());case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),le=function(){j(!l),y(!g)},oe=function(){var e=Object(u.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),t=U.current.value,e.prev=2,e.next=5,fetch("http://api.tvmaze.com/search/shows?q=".concat(t));case 5:return r=e.sent,e.next=8,r.json();case 8:n=e.sent,D(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),f(!0,e.t0.message,"alert-error",a,5e3);case 15:L(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"row g-3",children:[Object(w.jsx)("h2",{id:"content",className:"px-4",children:"Add Content"}),T&&T.map((function(e){return Object(w.jsxs)("div",{className:"App-maze-list",children:[Object(w.jsx)("p",{style:{position:"relative"},children:Object(w.jsx)("img",{className:"poster-small",src:e.show.image?e.show.image.medium:"undefined",alt:"poster"})}),Object(w.jsx)("p",{children:e.show.name}),Object(w.jsx)("div",{className:"flex flex-justify-center flex-align-center",children:Object(w.jsx)("a",{target:"_blank",href:"https://www.google.com/search?client=firefox-b-d&q=".concat(e.show.name,"+trailer"),rel:"noreferrer",children:Object(w.jsx)(Ht,{})})}),Object(w.jsx)("p",{children:v(e.show.summary,70)}),Object(w.jsx)("p",{children:O(e.show.genres)}),Object(w.jsx)("p",{children:e.show.premiered}),Object(w.jsx)("div",{className:"flex flex-justify-center flex-align-center",children:Object(w.jsx)("button",{className:"btn-icon btn-primary",onClick:function(){return t=e,G.current.value="",U.current.value=t.show.name,Y.current.value=t.show.premiered?t.show.premiered.split("-")[0]:"undefined",z.current.value=t.show.image?t.show.image.medium:"undefined",Q.current.value=t.show.rating.average||0,ee.current.value=O(t.show.genres)||"undefined",void(te.current.value=p(t.show.summary)||"undefined");var t},children:"Select"})})]},e.show.id)})),k&&Object(w.jsx)(Ae,{}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(ht,{label:"name",type:"text",id:"movie-name",refs:U,fn:oe,button:"Api Maze"})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(At,{label:"year",type:"text",id:"movie-year",refs:Y})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(At,{label:"rating",type:"text",id:"movie-rating",refs:Q})})]}),Object(w.jsxs)("div",{className:"row g-3",children:[Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(At,{label:"director",type:"text",id:"movie-director",refs:J})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(At,{label:"poster",type:"text",id:"movie-poster",refs:z})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(At,{label:"image-url",type:"text",id:"movie-image-url",refs:X,onChange:function(e){return I(e.target.value)}})})]}),Object(w.jsxs)("div",{className:"row g-3",children:[Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(At,{label:"trailer URL",type:"text",id:"movie-trailer",refs:$})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(At,{label:"cast",type:"text",id:"movie-cast",refs:K})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(At,{label:"tags",type:"text",id:"movie-tags",refs:ee})})]}),Object(w.jsx)("div",{className:"row-g-3",children:Object(w.jsx)("div",{className:"mb-3 col-12",children:Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Rt,{label:"storyline",type:"file",id:"movie-storyline",refs:te})})})}),Object(w.jsxs)("div",{className:"row g-3",children:[Object(w.jsx)("div",{className:"mb-3 col-md-6",children:Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(At,{label:"ID",type:"text",id:"movie-id",refs:G,disabled:!0})})}),Object(w.jsxs)("div",{className:"mb-3 col-md-6 flex flex-align-end",children:[Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{type:"radio",name:"radio-group",id:"radio-movie",checked:l,ref:ce,onChange:le}),Object(w.jsx)("label",{htmlFor:"radio-movie",children:"Movie"})]}),Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{type:"radio",name:"radio-group",id:"radio-tv",checked:g,ref:ae,onChange:le}),Object(w.jsx)("label",{htmlFor:"radio-tv",children:"TV"})]})]})]}),Object(w.jsx)("div",{className:"mb-3 col-12",children:Object(w.jsxs)("div",{className:"flex mt-3",id:"buttons",children:[Object(w.jsx)("button",{className:"btn-inline btn-success me-2",onClick:ie,children:"Add New Content"}),Object(w.jsx)("button",{className:"btn-inline btn-warning me-2",onClick:se,children:"Update Content"}),Object(w.jsx)("button",{className:"btn-inline btn-error me-2",onClick:function(){G.current.value="",U.current.value="",Y.current.value="",J.current.value="",z.current.value="",X.current.value="",Q.current.value="",$.current.value="",ee.current.value="",K.current.value="",K.current.value="",te.current.value=""},children:"Clear Fields"})]})}),!!n.text&&Object(w.jsx)(S,{data:n.text,type:n.type}),Object(w.jsxs)("section",{className:"mt-5",children:[Object(w.jsxs)("div",{className:"flex flex-align-center",children:[Object(w.jsxs)("button",{className:"btn-inline me-2 ".concat(P?"btn-primary":"btn-secondary"),onClick:function(){ne.current.style.display="none",re.current.style.display="block",P||A(!P),F&&q(!F)},children:[Object(w.jsx)(yt,{})," movie"]}),Object(w.jsxs)("button",{className:"btn-inline  ".concat(F?"btn-primary":"btn-secondary"),onClick:function(){ne.current.style.display="block",re.current.style.display="none",P&&q(!F),F||A(!P)},children:[Object(w.jsx)(Mt,{})," tv"]})]}),Object(w.jsx)("div",{ref:re,children:Object(w.jsx)(ft,{loadMovie:function(e,t){G.current.value=e.id,U.current.value=e.name,Y.current.value=e.year,J.current.value=e.director,z.current.value=e.poster,X.current.value=e.image,Q.current.value=e.rating||0,$.current.value=e.trailer,ee.current.value=O(e.tags),K.current.value=O(e.cast),te.current.value=p(e.storyline),j("movie"===e.type),y("tv"===e.type)}})}),Object(w.jsx)("div",{ref:ne,style:{display:"none"},children:"2"})]})]})},qt=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(Ft,{})})},Wt=["title","titleId"];function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Tt(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function Dt(e,t){var r=e.title,n=e.titleId,a=Tt(e,Wt);return c.createElement("svg",_t({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Bt||(Bt=c.createElement("path",{d:"M19.9999 11.0001V13.0001H7.99991L13.4999 18.5001L12.0799 19.9201L4.15991 12.0001L12.0799 4.08008L13.4999 5.50008L7.99991 11.0001H19.9999Z",fill:"#1B1B1B"})))}var Gt,Ut=c.forwardRef(Dt),Yt=(r.p,["title","titleId"]);function Jt(){return(Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zt(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function Xt(e,t){var r=e.title,n=e.titleId,a=zt(e,Yt);return c.createElement("svg",Jt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Gt||(Gt=c.createElement("path",{d:"M17 18V5H7V18L12 15.82L17 18ZM17 3C17.5304 3 18.0391 3.21071 18.4142 3.58579C18.7893 3.96086 19 4.46957 19 5V21L12 18L5 21V5C5 4.46957 5.21071 3.96086 5.58579 3.58579C5.96086 3.21071 6.46957 3 7 3H17ZM11 7H13V9H15V11H13V13H11V11H9V9H11V7Z",fill:"#1B1B1B"})))}var Qt,$t=c.forwardRef(Xt),Kt=(r.p,["title","titleId"]);function er(){return(er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tr(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function rr(e,t){var r=e.title,n=e.titleId,a=tr(e,Kt);return c.createElement("svg",er({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Qt||(Qt=c.createElement("path",{d:"M15 13H16.5V15.82L18.94 17.23L18.19 18.53L15 16.69V13ZM19 8H5V19H9.67C9.24 18.09 9 17.07 9 16C9 14.1435 9.7375 12.363 11.0503 11.0503C12.363 9.7375 14.1435 9 16 9C17.07 9 18.09 9.24 19 9.67V8ZM5 21C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 3.89 3.89 3 5 3H6V1H8V3H16V1H18V3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V11.1C22.24 12.36 23 14.09 23 16C23 17.8565 22.2625 19.637 20.9497 20.9497C19.637 22.2625 17.8565 23 16 23C14.09 23 12.36 22.24 11.1 21H5ZM16 11.15C14.7137 11.15 13.4801 11.661 12.5705 12.5705C11.661 13.4801 11.15 14.7137 11.15 16C11.15 18.68 13.32 20.85 16 20.85C16.6369 20.85 17.2676 20.7246 17.856 20.4808C18.4444 20.2371 18.9791 19.8798 19.4295 19.4295C19.8798 18.9791 20.2371 18.4444 20.4808 17.856C20.7246 17.2676 20.85 16.6369 20.85 16C20.85 13.32 18.68 11.15 16 11.15Z",fill:"#1B1B1B"})))}var nr,cr=c.forwardRef(rr),ar=(r.p,["title","titleId"]);function ir(){return(ir=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function sr(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function lr(e,t){var r=e.title,n=e.titleId,a=sr(e,ar);return c.createElement("svg",ir({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,nr||(nr=c.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C12.36 19.5 12.72 19.5 13.08 19.45C13.0285 19.1359 13.0018 18.8183 13 18.5C13 18.14 13.04 17.78 13.1 17.42C12.74 17.46 12.37 17.5 12 17.5C8.24 17.5 4.83 15.36 3.18 12C3.98825 10.3497 5.24331 8.95925 6.80248 7.98675C8.36165 7.01424 10.1624 6.49868 12 6.49868C13.8376 6.49868 15.6383 7.01424 17.1975 7.98675C18.7567 8.95925 20.0117 10.3497 20.82 12C20.7 12.24 20.56 12.45 20.43 12.68C21.09 12.84 21.72 13.11 22.29 13.5C22.56 13 22.8 12.5 23 12C21.27 7.61 17 4.5 12 4.5ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9ZM18 14.5V17.5H15V19.5H18V22.5H20V19.5H23V17.5H20V14.5H18Z",fill:"#1B1B1B"})))}var or,ur=c.forwardRef(lr),dr=(r.p,["title","titleId"]);function jr(){return(jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function br(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function fr(e,t){var r=e.title,n=e.titleId,a=br(e,dr);return c.createElement("svg",jr({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,or||(or=c.createElement("path",{d:"M12 15.39L8.24 17.66L9.23 13.38L5.91 10.5L10.29 10.13L12 6.09L13.71 10.13L18.09 10.5L14.77 13.38L15.76 17.66L12 15.39ZM22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.45 13.97L5.82 21L12 17.27L18.18 21L16.54 13.97L22 9.24Z",fill:"#1B1B1B"})))}var pr=c.forwardRef(fr),hr=(r.p,Object(te.b)({name:"login",initialState:{loading:!1,data:null,error:null},reducers:{sucLoginUser:function(e,t){e.loading=!1,e.data=t.payload}}})),Or=Object(te.b)({name:"watchlist",initialState:{loading:!1,data:null,error:null},reducers:{reqWatchlist:function(e){e.loading=!0,e.error=null},sucWatchlist:function(e,t){e.loading=!1,e.data=t.payload},errWatchlist:function(e,t){e.loading=!1,e.error=t.payload}}}),mr=Object(te.b)({name:"watchlist-add",initialState:{loading:!1,data:null,error:null},reducers:{reqAddWatchlist:function(e){e.loading=!0,e.error=null},sucAddWatchlist:function(e,t){e.loading=!1,e.data=t.payload},errAddWatchlist:function(e,t){e.loading=!1,e.error=t.payload}}}),xr=Object(re.b)({login:hr.reducer,watchlist:Or.reducer}),vr=hr.actions.sucLoginUser,gr=Or.actions,yr=gr.reqWatchlist,wr=gr.sucWatchlist,Cr=gr.errWatchlist,Nr=mr.actions,kr=Nr.reqAddWatchlist,Lr=Nr.sucAddWatchlist,Mr=(Nr.errAddWatchlist,xr),Sr=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(yr());case 2:return t.next=4,b.from("profile").select("watchlist(*)").eq("user_id",e).single();case 4:n=t.sent,c=n.data,a=n.error,r(a?Cr(a):wr(c));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Er=function(){var e=Object(Pe.g)().id,t=Object(Pe.f)(),r=Object(V.b)(),n=Object(c.useState)({error:null,text:null,type:null}),a=Object(d.a)(n,2),i=a[0],s=(a[1],Object(V.c)((function(e){return e.movies.movie}))),l=s.data,j=s.loading,f=Object(V.c)((function(e){return e.user.login})).data,p=Object(V.c)((function(e){return e.user.watchlist})).data,h=function(e){var t=p.watchlist.id;r(function(e,t){return function(){var e=Object(u.a)(o.a.mark((function e(r){var n,c,a,i,s,l,u,d,j,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(kr());case 2:return e.next=4,b.from("items").insert([{i_will_see:!0}]);case 4:return n=e.sent,c=n.data,(a=n.error)&&r(Cr(a)),e.next=10,b.from("watchlist").select("*").eq("id",t);case 10:if(i=e.sent,s=i.data,(l=i.error)&&r(Cr(l)),(u=s[0].items)||(u=[]),!u.includes(c[0].id)){e.next=18;break}return e.abrupt("return",{message:"The item is already on your watchlist."});case 18:return u.push(c[0].id),e.next=21,b.from("watchlist").update([{items:u}],{upsert:!0}).eq("id",t);case 21:d=e.sent,j=d.data,f=d.error,r(f?Cr(f):Lr(j));case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(0,t))};return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,r(Ve(e));case 3:return t.next=5,r(He(e));case 5:if(!f){t.next=8;break}return t.next=8,r(Sr(f.id));case 8:case"end":return t.stop()}}),t)})))()}),[r,e,f]),Object(w.jsx)("div",{children:j?Object(w.jsx)(Ae,{}):l&&Object(w.jsxs)("div",{children:[Object(w.jsxs)("button",{className:"btn-inline",onClick:function(){return t.goBack()},children:[Object(w.jsx)(Ut,{})," Back"]}),Object(w.jsx)("h2",{children:l.name}),Object(w.jsxs)("p",{className:"text-small",children:["Year: ",l.year," - Views: ",l.views||0," -"," ",l.year]}),!!i.text&&Object(w.jsx)(S,{data:i.text,type:i.type}),Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)("div",{children:Object(w.jsx)("img",{className:"poster",src:l.poster||Ze,alt:l.name})}),Object(w.jsx)("div",{style:{display:"none"},className:"videoContainer",children:Object(w.jsx)("div",{className:"videoWrapper",children:Object(w.jsx)("iframe",{title:"YouTube video player",frameBorder:"0",allowFullScreen:!0,width:"560",height:"349",src:x(l.trailer||"")})})}),Object(w.jsxs)("div",{className:"relative flex flex-column",children:[Object(w.jsxs)("button",{className:"btn-inline mb-1",onClick:function(){return h(l.id)},children:[Object(w.jsx)($t,{})," Add to watchlist"]}),Object(w.jsxs)("button",{className:"btn-inline btn-success mb-1",children:[Object(w.jsx)(cr,{})," Will watch"]}),Object(w.jsxs)("button",{className:"btn-inline btn-error mb-1",children:[Object(w.jsx)(ur,{})," Watched"]}),Object(w.jsxs)("button",{className:"btn-inline btn-warning mb-1",children:[Object(w.jsx)(pr,{})," Add to favorite"]})]})]}),Object(w.jsx)("div",{className:"App-tags mt-3",children:l.tags&&l.tags.map((function(e,t){return Object(w.jsx)(g.b,{to:"../genre/".concat(e.trim()),children:Object(w.jsx)("span",{children:e})},t)}))}),Object(w.jsx)("h3",{className:"mt-4 pb-3 before",children:"Storyline"}),Object(w.jsx)("div",{className:"App-details",children:Object(w.jsx)("p",{children:l.storyline})}),Object(w.jsx)("h3",{className:"mt-4 pb-3 before",children:"Details"}),Object(w.jsxs)("div",{className:"App-details",children:[Object(w.jsxs)("p",{children:[Object(w.jsx)("b",{children:"Director:"}),l.director]}),Object(w.jsxs)("p",{children:[Object(w.jsx)("b",{children:"Stars:"}),l.cast]}),Object(w.jsxs)("p",{children:[Object(w.jsx)("b",{children:"Year:"}),l.year]})]})]})})},Vr=r.p+"static/media/mdi_facebook2.a67d96b1.svg",Ir=r.p+"static/media/mdi_instagram.1b2fd129.svg",Br=r.p+"static/media/mdi_twitch.cd390355.svg",Hr=r.p+"static/media/mdi_twitter.fce2c6cc.svg",Pr=function(){return Object(w.jsx)("footer",{children:Object(w.jsxs)("div",{className:"mt-4",children:[Object(w.jsx)(C,{}),Object(w.jsxs)("div",{className:"flex gap-2 mt-4 flex-justify-center",children:[Object(w.jsx)("a",{href:"#facebook",children:Object(w.jsx)("img",{className:"App-footer-icon",src:Vr,alt:"Facebook"})}),Object(w.jsx)("a",{href:"#instagram",children:Object(w.jsx)("img",{className:"App-footer-icon",src:Ir,alt:"Instagram"})}),Object(w.jsx)("a",{href:"#twitter",children:Object(w.jsx)("img",{className:"App-footer-icon",src:Hr,alt:"Twitter"})}),Object(w.jsx)("a",{href:"#twitch",children:Object(w.jsx)("img",{className:"App-footer-icon",src:Br,alt:"Twitch"})})]}),Object(w.jsxs)("div",{className:"flex gap-2 mt-4 flex-justify-center App-footer--links",children:[Object(w.jsx)(g.b,{to:"/",children:"HOME"}),Object(w.jsx)(g.b,{to:"/movies",children:"Movies"}),Object(w.jsx)(g.b,{to:"/tv",children:"Tv"}),Object(w.jsx)(g.b,{to:"/add",children:"Add"}),Object(w.jsx)(g.b,{to:"/",children:"Help"}),Object(w.jsx)(g.b,{to:"/",children:"Contact"})]})]})})},Ar=function(){var e=Object(Pe.g)().term,t=Object(Pe.f)(),r=Object(c.useState)(),n=Object(d.a)(r,2),a=n[0],i=n[1];return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function t(){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.from("movies").select("*").cs("tags",[e]);case 2:return r=t.sent,n=r.data,t.next=6,i(n);case 6:case"end":return t.stop()}}),t)})))()}),[e]),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:Object(w.jsxs)("button",{className:"btn-inline",onClick:function(){return t.goBack()},children:[Object(w.jsx)(Ut,{})," Back"]})}),Object(w.jsx)("h2",{children:"Movies"}),Object(w.jsx)("div",{className:"flex wrap gap-1 flex-justify-center",children:a&&a.map((function(e){return Object(w.jsx)(g.b,{to:"../movies/".concat(e.id),className:"App-card-container",children:Object(w.jsxs)("div",{className:"App-card",children:[Object(w.jsx)("img",{className:"poster",src:e.poster||Ze,alt:e.name}),Object(w.jsxs)("div",{className:"p-2",children:[Object(w.jsx)("h5",{children:e.name}),Object(w.jsx)("p",{className:"App-card--p text-small mt-2",children:e.storyline.slice(0,60)+"..."||!1})]})]})},e.id)}))})]})},Zr=function(){var e,t=Object(c.useRef)(),r=Object(c.useState)(null),n=Object(d.a)(r,2),a=n[0],i=(n[1],Object(c.useState)(null)),s=Object(d.a)(i,2),l=s[0],j=s[1],f=Object(V.b)(),p=Object(V.c)((function(e){return e.user.login})).data,h=Object(V.c)((function(e){return e.user.watchlist})),O=h.data,x=h.loading,v=function(){var e=Object(u.a)(o.a.mark((function e(){var r,n,c,a,i,s,l,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(r=t.current.value).length){e.next=4;break}return j("Invalid name."),e.abrupt("return");case 4:if(n=p.id,!p){e.next=24;break}return e.next=8,b.from("watchlist").insert({name:r});case 8:return c=e.sent,a=c.data,(i=c.error)&&console.error(i),e.next=14,b.from("profile").select("*").eq("user_id",n);case 14:return s=e.sent,(l=s.error)&&console.error(l),e.next=19,b.from("profile").update({watchlist:a[0].id},{upsert:!0}).eq("user_id",n);case 19:return u=e.sent,(d=u.error)&&console.error(d),e.next=24,f(Sr(p.id));case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=3;break}return e.next=3,f(Sr(p.id));case 3:case"end":return e.stop()}}),e)})))()}),[p,f]),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"App-profile--user",children:[Object(w.jsx)("h2",{children:"Profile"}),Object(w.jsxs)("div",{className:"p-4",children:[Object(w.jsx)("div",{children:null===p||void 0===p?void 0:p.id}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h4",{children:(null===p||void 0===p?void 0:p.name)||"Anonymous_"}),Object(w.jsxs)("small",{children:[null===p||void 0===p?void 0:p.email," - Registration day ",m(null===p||void 0===p?void 0:p.created_at)]})]})]})]}),Object(w.jsxs)("div",{className:"App-watchlist py-4",children:[!!l&&Object(w.jsx)(S,{data:l,type:"alert-success"}),null===a&&Object(w.jsx)("div",{className:"row g-3",children:Object(w.jsxs)("div",{className:"mb-3 col-md-12",children:[Object(w.jsx)("h3",{className:"before mb-2",children:"Watchlist"}),Object(w.jsx)(ht,{label:"name",type:"text",id:"movie-name",refs:t,fn:v,button:"Create a new watchlist"})]})}),x?Object(w.jsx)(Ae,{}):Object(w.jsx)("div",{children:O&&O.watchlist&&Object(w.jsxs)("div",{className:"flex flex-align-center",children:[Object(w.jsx)("div",{className:"flex-1",children:Object(w.jsx)("button",{className:"btn btn-primary",onClick:function(){return y(O.watchlist.id)},children:O.watchlist.name})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{className:"btn-inline btn-error",onClick:function(){return g(O.watchlist.id)},children:"delete"}),Object(w.jsx)("button",{className:"btn-inline btn-info",onClick:function(){return C(O.watchlist.id)},children:"save"}),Object(w.jsx)("button",{className:"btn-inline btn-secondary",onClick:function(){return 1},children:"edit"})]})]},O.watchlist.id)}),Object(w.jsx)("div",{className:"App-watchlist-list",children:(null===O||void 0===O||null===(e=O.watchlist)||void 0===e?void 0:e.items)?O.watchlist.items.map((function(e,t){return Object(w.jsx)("p",{children:e},t)})):Object(w.jsx)(S,{data:"Items not found.",type:"alert-info"})})]})]})},Rr=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(S,{data:"Page not found.",type:"alert-info"})})},Fr=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2);t[0],t[1];Object(c.useEffect)((function(){}),[]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)(Fe,{}),Object(w.jsxs)(Pe.c,{children:[Object(w.jsx)(Ge,{exact:!0,path:"/",component:tt}),Object(w.jsx)(Ge,{exact:!0,path:"/add",component:qt}),Object(w.jsx)(Pe.a,{exact:!0,path:"/movies",component:We}),Object(w.jsx)(Pe.a,{exact:!0,path:"/movies/:id",component:Er}),Object(w.jsx)(Pe.a,{exact:!0,path:"/genre/:term",component:Ar}),Object(w.jsx)(Pe.a,{exact:!0,path:"/profile/:id",component:Zr}),Object(w.jsx)(Pe.a,{path:"*",component:Rr})]})]}),Object(w.jsx)(Pr,{})]})};var qr=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(V.b)();return Object(c.useEffect)((function(){var e,t=b.auth.session();n(null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:null),a(function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(vr(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(null===t||void 0===t?void 0:t.user));var r=b.auth.onAuthStateChange(function(){var e=Object(u.a)(o.a.mark((function e(t,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null===r||void 0===r?void 0:r.user,n(null!==c&&void 0!==c?c:null);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()).data;return function(){null===r||void 0===r||r.unsubscribe()}}),[r,a]),Object(w.jsx)("div",{children:r?Object(w.jsx)(Fr,{user:r}):Object(w.jsx)(E,{})})},Wr=r(23),_r=Object(Wr.a)(Object(te.c)()),Tr=Object(re.b)({user:Mr,movies:Se}),Dr=Object(te.a)({reducer:Tr,middleware:_r});s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(V.a,{store:Dr,children:Object(w.jsx)(g.a,{children:Object(w.jsx)(qr,{})})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.6334304c.chunk.js.map