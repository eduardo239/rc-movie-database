(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,r){},37:function(e,t,r){},38:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},58:function(e,t,r){"use strict";r.r(t);var n,c=r(1),a=r.n(c),i=r(21),s=r.n(i),l=(r(36),r(37),r(38),r(39),r(40),r(41),r(42),r(2)),o=r.n(l),u=r(3),d=r(4),j=r(31),b=Object(j.a)("https://bkoudjhxmucqwexjokvq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyMTk0OTMyNCwiZXhwIjoxOTM3NTI1MzI0fQ.XhpY5c-ehSe6nCYx-zBkIDU7nPuuMJjnStokMcxBNEY"),f=function(e,t,r,n,c){n({error:e,text:t,type:r}),setTimeout((function(){return n({error:!1,text:"",type:""})}),c)},h=function(e){return e.replace(/<\/?[^>]+(>|$)/g,"")},p=function(e){return null===e||void 0===e?"":e.split(",").map((function(e){return e.trim().toLowerCase()}))},O=function(e){return null===e||void 0===e?"":e.map((function(e){return e.trim().charAt(0).toUpperCase()+e.slice(1)})).join(", ")},x=function(e){var t=new Date(e),r=t.getFullYear(),n=t.getMonth(),c=t.getDate();return"".concat(c<10?"0"+c:c,"/").concat(n<10?"0"+(n+1):n+1,"/").concat(r)},m=function(e){if("http"!==e&&""!==e&&e){var t=e.split("/")[3].split("=")[1];return"https://www.youtube.com/embed/".concat(t)}},v=function(e,t){if(null!==e)return e.length>10?e.slice(0,t)+"...":e},g=r(5),y=r.p+"static/media/logo.36d4b45f.svg",w=r(0),C=function(){return Object(w.jsx)(g.b,{to:"/",children:Object(w.jsx)("div",{className:"flex-justify-center flex",children:Object(w.jsx)("img",{src:y,alt:"movie database"})})})},k=r.p+"static/media/mdi_alert-circle-outline.6973f8d8.svg",N=r.p+"static/media/mdi_information-outline.a6fa84c7.svg",L=r.p+"static/media/mdi_alert-outline.a8083910.svg",M=r.p+"static/media/mdi_check-circle-outline.0c559222.svg",S=function(e){var t=e.data,r=e.type;return Object(w.jsx)("div",{className:"my-3",children:Object(w.jsxs)("div",{className:"alert ".concat(r),children:[Object(w.jsx)("img",{src:"alert-error"===r?k:"alert-info"===r?N:"alert-warning"===r?L:"alert-success"===r?M:"",alt:"Message"}),t]})})},V=function(){var e=Object(c.useState)({error:null,text:null,type:null}),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useRef)(),i=Object(c.useRef)(),s=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,c,s,l,u,d,j,h,p,O;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=null===(r=a.current)||void 0===r?void 0:r.value,l=null===(c=i.current)||void 0===c?void 0:c.value,"LOGIN"!==t){e.next=8;break}return e.next=5,b.auth.signIn({email:s,password:l});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,b.auth.signUp({email:s,password:l});case 10:e.t0=e.sent;case 11:if(u=e.t0,d=u.user,!(j=u.error)){e.next=18;break}f(!0,j.message,"alert-error",n,3e3),e.next=26;break;case 18:if("REGISTER"!==t){e.next=25;break}return e.next=21,b.from("profile").insert({user_id:d.id,name:"User"});case 21:h=e.sent,p=h.data,(O=h.error)?console.log(O):console.log(p);case 25:f(!1,"An email has been sent to you for verification!","alert-info",n,9e3);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.auth.signIn({provider:t});case 2:r=e.sent,(n=r.error)&&console.log("Error: ",n.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)("div",{className:"container",children:Object(w.jsxs)("div",{className:"row justify-content-md-center my-3",children:[Object(w.jsx)(C,{}),Object(w.jsxs)("div",{className:"col-md-6 col-12 my-5",children:[Object(w.jsx)("h2",{children:"Login"}),Object(w.jsxs)("div",{className:"mb-4 field",children:[Object(w.jsxs)("label",{htmlFor:"email",children:[Object(w.jsx)("span",{children:"*"}),"Email:"]}),Object(w.jsx)("input",{type:"email",name:"email",ref:a,required:!0})]}),Object(w.jsxs)("div",{className:"mb-4 field",children:[Object(w.jsxs)("label",{htmlFor:"password",children:[Object(w.jsx)("span",{children:"*"}),"Password:"]}),Object(w.jsx)("input",{type:"password",name:"password",ref:i,required:!0})]}),Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)("button",{className:"btn btn-secondary flex-1",type:"submit",onClick:function(){return s("REGISTER").catch(console.error)},children:"Sign Up"}),Object(w.jsx)("button",{className:"btn btn-primary flex-1",onClick:function(){return s("LOGIN")},type:"button",children:"Sign In"})]})]}),!!r.text&&Object(w.jsx)(S,{data:r.text,type:r.type}),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:Object(w.jsx)("div",{})}),Object(w.jsx)("div",{children:Object(w.jsx)("small",{children:"Or continue with"})})]}),Object(w.jsx)("div",{children:Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{onClick:function(){return l("github")},type:"button",className:"btn-icon btn-primary",children:Object(w.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(w.jsx)("path",{d:"M16.0001 2.66675C14.2491 2.66675 12.5153 3.01162 10.8976 3.68169C9.27996 4.35175 7.81011 5.33388 6.57199 6.57199C4.07151 9.07248 2.66675 12.4639 2.66675 16.0001C2.66675 21.8934 6.49341 26.8934 11.7867 28.6667C12.4534 28.7734 12.6667 28.3601 12.6667 28.0001V25.7467C8.97341 26.5467 8.18675 23.9601 8.18675 23.9601C7.57341 22.4134 6.70675 22.0001 6.70675 22.0001C5.49342 21.1734 6.80008 21.2001 6.80008 21.2001C8.13341 21.2934 8.84008 22.5734 8.84008 22.5734C10.0001 24.6001 11.9601 24.0001 12.7201 23.6801C12.8401 22.8134 13.1867 22.2267 13.5601 21.8934C10.6001 21.5601 7.49341 20.4134 7.49341 15.3334C7.49341 13.8534 8.00008 12.6667 8.86675 11.7201C8.73342 11.3867 8.26675 10.0001 9.00008 8.20008C9.00008 8.20008 10.1201 7.84008 12.6667 9.56008C13.7201 9.26675 14.8667 9.12008 16.0001 9.12008C17.1334 9.12008 18.2801 9.26675 19.3334 9.56008C21.8801 7.84008 23.0001 8.20008 23.0001 8.20008C23.7334 10.0001 23.2667 11.3867 23.1334 11.7201C24.0001 12.6667 24.5067 13.8534 24.5067 15.3334C24.5067 20.4267 21.3867 21.5467 18.4134 21.8801C18.8934 22.2934 19.3334 23.1067 19.3334 24.3467V28.0001C19.3334 28.3601 19.5467 28.7867 20.2267 28.6667C25.5201 26.8801 29.3334 21.8934 29.3334 16.0001C29.3334 14.2491 28.9885 12.5153 28.3185 10.8976C27.6484 9.27996 26.6663 7.81011 25.4282 6.57199C24.1901 5.33388 22.7202 4.35175 21.1025 3.68169C19.4849 3.01162 17.751 2.66675 16.0001 2.66675V2.66675Z",fill:"#F7F7F9"})})}),Object(w.jsx)("button",{onClick:function(){return l("google")},type:"button",className:"btn-icon btn-primary",children:Object(w.jsx)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(w.jsx)("path",{d:"M28.4668 14.8001H16.2401V18.4401H24.9201C24.4801 23.5201 20.2535 25.6934 16.2535 25.6934C11.1468 25.6934 6.66679 21.6667 6.66679 16.0001C6.66679 10.5334 10.9335 6.30675 16.2668 6.30675C20.3868 6.30675 22.8001 8.93341 22.8001 8.93341L25.3335 6.29341C25.3335 6.29341 22.0801 2.66675 16.1335 2.66675C8.56012 2.66675 2.70679 9.06675 2.70679 16.0001C2.70679 22.7334 8.21345 29.3334 16.3335 29.3334C23.4668 29.3334 28.6668 24.4401 28.6668 17.2134C28.6668 15.6801 28.4668 14.8001 28.4668 14.8001Z",fill:"#F7F7F9"})})})]})})]})]})})},E=r(6),I=["title","titleId"];function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function B(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function A(e,t){var r=e.title,a=e.titleId,i=B(e,I);return c.createElement("svg",H({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},i),r?c.createElement("title",{id:a},r):null,n||(n=c.createElement("path",{d:"M16 17V14H9V10H16V7L21 12L16 17ZM14 2C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6H14V4H5V20H14V18H16V20C16 20.5304 15.7893 21.0391 15.4142 21.4142C15.0391 21.7893 14.5304 22 14 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V4C3 3.46957 3.21071 2.96086 3.58579 2.58579C3.96086 2.21071 4.46957 2 5 2H14Z",fill:"#1B1B1B"})))}var P,Z=c.forwardRef(A),R=(r.p,["title","titleId"]);function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function W(e,t){var r=e.title,n=e.titleId,a=q(e,R);return c.createElement("svg",F({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,P||(P=c.createElement("path",{d:"M12 15C12.81 15 13.5 14.7 14.11 14.11C14.7 13.5 15 12.81 15 12C15 11.19 14.7 10.5 14.11 9.89C13.5 9.3 12.81 9 12 9C11.19 9 10.5 9.3 9.89 9.89C9.3 10.5 9 11.19 9 12C9 12.81 9.3 13.5 9.89 14.11C10.5 14.7 11.19 15 12 15ZM12 2C14.75 2 17.1 3 19.05 4.95C21 6.9 22 9.25 22 12V13.45C22 14.45 21.65 15.3 21 16C20.3 16.67 19.5 17 18.5 17C17.3 17 16.31 16.5 15.56 15.5C14.56 16.5 13.38 17 12 17C10.63 17 9.45 16.5 8.46 15.54C7.5 14.55 7 13.38 7 12C7 10.63 7.5 9.45 8.46 8.46C9.45 7.5 10.63 7 12 7C13.38 7 14.55 7.5 15.54 8.46C16.5 9.45 17 10.63 17 12V13.45C17 13.86 17.16 14.22 17.46 14.53C17.76 14.84 18.11 15 18.5 15C18.92 15 19.27 14.84 19.57 14.53C19.87 14.22 20 13.86 20 13.45V12C20 9.81 19.23 7.93 17.65 6.35C16.07 4.77 14.19 4 12 4C9.81 4 7.93 4.77 6.35 6.35C4.77 7.93 4 9.81 4 12C4 14.19 4.77 16.07 6.35 17.65C7.93 19.23 9.81 20 12 20H17V22H12C9.25 22 6.9 21 4.95 19.05C3 17.1 2 14.75 2 12C2 9.25 3 6.9 4.95 4.95C6.9 3 9.25 2 12 2Z",fill:"#F7F7F9"})))}var _,D=c.forwardRef(W),T=(r.p,r(10)),G=r(15),U=Object(T.b)({name:"movies",initialState:{loading:!1,data:null,error:null},reducers:{reqGetMovies:function(e){e.loading=!0,e.error=null},sucGetMovies:function(e,t){e.loading=!1,e.data=t.payload},errGetMovies:function(e,t){e.loading=!1,e.error=t.payload}}}),Y=Object(T.b)({name:"movie",initialState:{loading:!1,data:null,error:null},reducers:{reqGetMovie:function(e){e.loading=!0,e.error=null},sucGetMovie:function(e,t){e.loading=!1,e.data=t.payload},errGetMovie:function(e,t){e.loading=!1,e.error=t.payload}}}),J=Object(T.b)({name:"movie",initialState:{loading:!1,error:null},reducers:{reqDelMovie:function(e){e.loading=!0,e.error=null},sucDelMovie:function(e){e.loading=!1},errDelMovie:function(e,t){e.loading=!1,e.error=t.payload}}}),z=Object(T.b)({name:"search",initialState:{loading:!1,data:null,error:null},reducers:{reqSearchMovie:function(e){e.loading=!0,e.error=null},sucSearchMovie:function(e,t){e.loading=!1,e.data=t.payload},errSearchMovie:function(e,t){e.loading=!1,e.error=t.payload},resetSearchMovie:function(e){e.loading=!1,e.error=!1,e.data=null}}}),X=Object(T.b)({name:"views",initialState:{loading:!1,data:null,error:null},reducers:{reqPageView:function(e){e.loading=!0,e.error=null},sucPageView:function(e,t){e.loading=!1,e.data=t.payload},errPageView:function(e,t){e.loading=!1,e.error=t.payload}}}),Q=Object(G.b)({movies:U.reducer,movie:Y.reducer,search:z.reducer,views:X.reducer}),$=U.actions,K=$.reqGetMovies,ee=$.sucGetMovies,te=$.errGetMovies,re=Y.actions,ne=re.reqGetMovie,ce=re.sucGetMovie,ae=re.errGetMovie,ie=J.actions,se=ie.reqDelMovie,le=ie.sucDelMovie,oe=ie.errDelMovie,ue=z.actions,de=ue.reqSearchMovie,je=ue.sucSearchMovie,be=ue.errSearchMovie,fe=ue.resetSearchMovie,he=X.actions,pe=he.sucPageView,Oe=he.errPageView,xe=Q,me=function(){return function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(K());case 2:return e.next=4,b.from("movies").select("*");case 4:if(r=e.sent,n=r.data,!(c=r.error)){e.next=11;break}te(c),e.next=13;break;case 11:return e.next=13,t(ee(n));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(ne());case 2:return t.next=4,b.from("movies").select("*").eq("id",e);case 4:if(n=t.sent,c=n.data,!(a=n.error)){t.next=11;break}ae(a),t.next=13;break;case 11:return t.next=13,r(ce(c[0]));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ge=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(se());case 2:return t.next=4,b.from("movies").delete().eq("id",e);case 4:n=t.sent,(c=n.error)?oe(c):r(le());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ye=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(de());case 2:return t.next=4,b.from("movies").select("*").ilike("name","%".concat(e,"%"));case 4:if(n=t.sent,c=n.data,!(a=n.error)){t.next=11;break}be(a),t.next=13;break;case 11:return t.next=13,r(je(c));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.from("movies").select("*").eq("id",e).single();case 2:if(n=t.sent,c=n.data,a=n.error,!c){t.next=8;break}return t.next=8,b.from("movies").update({views:c.views+1}).eq("id",e);case 8:if(!a){t.next=12;break}Oe(a),t.next=14;break;case 12:return t.next=14,r(pe(c));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ce=function(){return Object(w.jsx)("div",{className:"flex flex-justify-center w-100",children:Object(w.jsx)("div",{className:"p-3 spinner"})})},ke=r.p+"static/media/poster.d7078153.jpg",Ne=r(8),Le=["title","titleId"];function Me(){return(Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function Ve(e,t){var r=e.title,n=e.titleId,a=Se(e,Le);return c.createElement("svg",Me({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,_||(_=c.createElement("path",{d:"M8.16 3L6.75 4.41L9.34 7H4C2.89 7 2 7.89 2 9V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V9C22 7.89 21.11 7 20 7H14.66L17.25 4.41L15.84 3L12 6.84L8.16 3ZM4 9H17V19H4V9ZM19.5 9C19.7652 9 20.0196 9.10536 20.2071 9.29289C20.3946 9.48043 20.5 9.73478 20.5 10C20.5 10.2652 20.3946 10.5196 20.2071 10.7071C20.0196 10.8946 19.7652 11 19.5 11C19.2348 11 18.9804 10.8946 18.7929 10.7071C18.6054 10.5196 18.5 10.2652 18.5 10C18.5 9.73478 18.6054 9.48043 18.7929 9.29289C18.9804 9.10536 19.2348 9 19.5 9ZM19.5 12C19.7652 12 20.0196 12.1054 20.2071 12.2929C20.3946 12.4804 20.5 12.7348 20.5 13C20.5 13.2652 20.3946 13.5196 20.2071 13.7071C20.0196 13.8946 19.7652 14 19.5 14C19.2348 14 18.9804 13.8946 18.7929 13.7071C18.6054 13.5196 18.5 13.2652 18.5 13C18.5 12.7348 18.6054 12.4804 18.7929 12.2929C18.9804 12.1054 19.2348 12 19.5 12Z",fill:"#1B1B1B"})))}var Ee,Ie=c.forwardRef(Ve),He=(r.p,["title","titleId"]);function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function Pe(e,t){var r=e.title,n=e.titleId,a=Ae(e,He);return c.createElement("svg",Be({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Ee||(Ee=c.createElement("path",{d:"M20.8401 2.17993L16.9101 2.95993L19.6501 6.49993L21.6201 6.09993L20.8401 2.17993V2.17993ZM13.9701 3.53993L12.0001 3.92993L14.7501 7.45993L16.7101 7.06993L13.9701 3.53993V3.53993ZM9.07008 4.49993L7.10008 4.90993L9.85008 8.43993L11.8101 8.04993L9.07008 4.49993ZM4.16007 5.49993L3.18008 5.68993C2.92247 5.74073 2.67743 5.84188 2.459 5.98758C2.24057 6.13328 2.05305 6.32066 1.90719 6.53898C1.76133 6.75731 1.66001 7.00227 1.60902 7.25984C1.55803 7.51741 1.55839 7.7825 1.61008 8.03993L2.00008 9.99993L6.90008 9.02993L4.16007 5.49993ZM20.0001 11.9999V19.9999H4.00008V11.9999H20.0001ZM22.0001 9.99993H2.00008V19.9999C2.00008 20.5304 2.21079 21.0391 2.58586 21.4141C2.96093 21.7892 3.46964 21.9999 4.00008 21.9999H20.0001C21.1101 21.9999 22.0001 21.1099 22.0001 19.9999V9.99993Z",fill:"#1B1B1B"})))}var Ze=c.forwardRef(Pe),Re=(r.p,function(){var e=Object(E.b)(),t=Object(Ne.f)(),r=Object(c.useState)(""),n=Object(d.a)(r,2),a=n[0],i=n[1],s=Object(E.c)((function(e){return e.movies.search})),l=s.data,j=(s.loading,function(){var r=Object(u.a)(o.a.mark((function r(n){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return"/"===t.location.pathname?t.push("movies/".concat(n)):t.push("".concat(n)),i(""),r.next=5,e(function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(fe());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());return Object(c.useEffect)((function(){a.length>=3&&Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(ye(a));case 2:case"end":return t.stop()}}),t)})))()}),[a,e]),Object(w.jsxs)("div",{className:"flex-1 App-search-container",children:[Object(w.jsx)("input",{type:"text",id:"search",placeholder:"search movies",onChange:function(e){return i(e.target.value)},value:a,autoFocus:!0,className:"w-100"}),Object(w.jsx)("div",{className:"App-search-result",style:{display:"".concat(l&&a?"block":"none")},children:a.length>=3&&l&&l.length>0&&l.map((function(e){return Object(w.jsx)("button",{className:"App-search-button",onClick:function(){return j(e.id)},children:Object(w.jsxs)("div",{className:"flex flex-align-center p-1 gap-1 text-left",children:[Object(w.jsx)("img",{className:"App-poster-mini",src:e.poster||ke,alt:e.name}),Object(w.jsxs)("div",{className:"App-search-result--body",children:[Object(w.jsx)("h5",{className:"mb-1",children:e.name}),Object(w.jsx)("p",{children:e.storyline&&e.storyline.slice(0,100)+"..."||"No storyline"})]})]})},Math.random())}))})]})}),Fe=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(E.c)((function(e){return e.user.login})).data,i=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(!1),b.auth.signOut().catch(console.error);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){n(!1)};return Object(w.jsxs)("div",{className:"flex flex-align-center my-3 gap-2",children:[Object(w.jsx)(C,{}),Object(w.jsx)(Re,{}),a&&Object(w.jsx)("div",{children:Object(w.jsx)(g.b,{to:"profile/".concat(a.id),children:Object(w.jsx)(D,{})})}),Object(w.jsxs)("div",{className:"flex flex-align-center svg-hover",onClick:function(){n(!0)},style:{cursor:"pointer"},children:[Object(w.jsx)("svg",{className:"me-2",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(w.jsx)("path",{d:"M3 6H21V8H3V6ZM3 11H21V13H3V11ZM3 16H21V18H3V16Z",fill:"#F7F7F9"})})," ",Object(w.jsx)("span",{children:"Menu"})]}),Object(w.jsx)("div",{children:Object(w.jsx)("button",{className:"btn-icon btn-secondary",onClick:i,children:Object(w.jsx)(Z,{})})}),r&&Object(w.jsxs)("div",{className:"App-menu-modal ",children:[Object(w.jsx)("div",{className:"App-menu-button--close",children:Object(w.jsx)("button",{className:"btn",onClick:s,children:Object(w.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[Object(w.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17.25 6.75L6.75 17.25"}),Object(w.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6.75 6.75L17.25 17.25"})]})})}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h2",{children:"Menu"}),Object(w.jsxs)("ul",{className:"App-menu-content App-fadeIn mt-3",children:[Object(w.jsx)("li",{children:Object(w.jsx)(g.b,{to:"/",onClick:s,children:"Home"})}),Object(w.jsx)("li",{children:Object(w.jsx)(g.b,{to:"/movies",onClick:s,children:"Movies"})}),Object(w.jsx)("li",{children:Object(w.jsx)(g.b,{to:"/tv",onClick:s,children:"TV"})}),Object(w.jsx)("li",{children:Object(w.jsx)(g.b,{to:"/add",onClick:s,children:"Add"})})]})]})]})]})},qe=function(e){var t=e.name,r=e.storyline,n=e.date,c=e.poster;return Object(w.jsxs)("div",{className:"App-card-2",children:[Object(w.jsx)("img",{src:c||ke,alt:t}),Object(w.jsxs)("section",{children:[Object(w.jsx)("h4",{children:t}),Object(w.jsx)("p",{children:(null===r||void 0===r?void 0:r.slice(0,40))+"..."||!1}),Object(w.jsx)("small",{children:n})]})]})},We=function(){var e=Object(E.b)(),t=Object(c.useState)("movie"),r=Object(d.a)(t,2),n=r[0],a=r[1],i=Object(E.c)((function(e){return e.movies.movies})),s=i.data,l=i.loading,j=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a(!n));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(me());case 2:case"end":return t.stop()}}),t)})))()}),[e]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"Movies by Type"}),Object(w.jsxs)("section",{className:"mb-3",children:[Object(w.jsx)("button",{className:"btn-inline btn-primary me-1",onClick:j,children:"Movies"}),Object(w.jsx)("button",{className:"btn-inline btn-secondary",onClick:j,children:"Tv"})]}),Object(w.jsx)("h2",{children:"Movies"}),Object(w.jsx)("div",{className:"flex wrap gap-1 flex-justify-center",children:l?Object(w.jsx)(Ce,{}):s?s.map((function(e){return Object(w.jsx)(g.b,{to:"movies/".concat(e.id),className:"flex",children:Object(w.jsx)(qe,{name:e.name,storyline:e.storyline,date:e.year,poster:e.poster})},e.id)})).reverse():Object(w.jsx)("p",{children:"movies not found"})})]})},_e=r(11),De=r(16),Te=["component"];function Ge(e){var t=e.component,r=Object(De.a)(e,Te);return Object(w.jsx)(Ne.a,Object(_e.a)(Object(_e.a)({},r),{},{render:function(e){return Object(w.jsx)(t,Object(_e.a)({},e))}}))}var Ue,Ye=r(30),Je=(r(57),r.p+"static/media/posterWide.f19ffe31.jpg"),ze=r.p+"static/media/posterWide1.e8dfbd4e.jpg",Xe=r.p+"static/media/posterWide2.baac3229.jpg",Qe=function(e){var t=e.data;return Object(w.jsxs)("div",{div:!0,className:"flex wrap flex-justify-center",children:[Object(w.jsx)("div",{className:"App-slide",children:Object(w.jsxs)(Ye.Slide,{children:[Object(w.jsx)("div",{className:"each-slide",children:Object(w.jsx)("div",{style:{backgroundImage:"url(".concat(t[0].image||Je,")")},children:Object(w.jsx)("span",{children:t[0].name})})}),Object(w.jsx)("div",{className:"each-slide",children:Object(w.jsx)("div",{style:{backgroundImage:"url(".concat(t[1].image||ze,")")},children:Object(w.jsx)("span",{children:t[1].name})})}),Object(w.jsx)("div",{className:"each-slide",children:Object(w.jsx)("div",{style:{backgroundImage:"url(".concat(t[2].image||Xe,")")},children:Object(w.jsx)("span",{children:t[2].name})})})]})}),Object(w.jsxs)("div",{className:"App-slide-side",children:[Object(w.jsx)("img",{className:"App-slide--img",src:t[0].image||Je,alt:"Movie Database"}),Object(w.jsx)("img",{className:"App-slide--img",src:t[1].image||ze,alt:"Movie Database"}),Object(w.jsx)("img",{className:"App-slide--img",src:t[2].image||Xe,alt:"Movie Database"})]})]})},$e=function(){var e=Object(E.c)((function(e){return e.movies.movies})),t=e.data,r=e.loading;return Object(w.jsx)(w.Fragment,{children:r?Object(w.jsx)(Ce,{}):t&&t.length>3?Object(w.jsx)(Qe,{data:t&&t.slice(1,4)}):Object(w.jsx)(S,{data:"Slide not found.",type:"alert-info"})})},Ke=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(),i=Object(d.a)(a,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function e(){var t,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,b.from("movies").select("*").limit(5).order("views",{ascending:!1});case 3:t=e.sent,r=t.data,(c=t.error)?console.error(c):n(r),l(!1);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"mt-5",children:"Top 10"}),Object(w.jsx)("div",{className:"flex wrap gap-1 flex-justify-center",children:s?Object(w.jsx)(Ce,{}):r&&r.map((function(e){return Object(w.jsx)(g.b,{to:"movies/".concat(e.id),className:"flex",children:Object(w.jsx)(qe,{name:e.name,storyline:e.storyline,date:e.year,poster:e.poster})},e.id)}))})]})},et=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(c.useState)(),i=Object(d.a)(a,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function e(){var t,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,b.from("movies").select("*").limit(5).order("created_at",{ascending:!1});case 3:t=e.sent,r=t.data,(c=t.error)?console.error(c):n(r),l(!1);case 8:case"end":return e.stop()}}),e)})))()}),[]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{className:"mt-5",children:"News"}),Object(w.jsx)("div",{className:"flex wrap gap-1 flex-justify-center",children:s?Object(w.jsx)(Ce,{}):r&&r.map((function(e){return Object(w.jsx)(g.b,{to:"movies/".concat(e.id),className:"flex",children:Object(w.jsx)(qe,{name:e.name,storyline:e.storyline,date:e.year,poster:e.poster})},e.id)}))})]})},tt=function(){var e=Object(E.b)();return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(me());case 2:case"end":return t.stop()}}),t)})))()}),[e]),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)($e,{}),Object(w.jsx)(Ke,{}),Object(w.jsx)(et,{})]})},rt=["title","titleId"];function nt(){return(nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ct(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function at(e,t){var r=e.title,n=e.titleId,a=ct(e,rt);return c.createElement("svg",nt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Ue||(Ue=c.createElement("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"#06D6A0"})))}var it,st=c.forwardRef(at),lt=(r.p,["title","titleId"]);function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ut(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function dt(e,t){var r=e.title,n=e.titleId,a=ut(e,lt);return c.createElement("svg",ot({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,it||(it=c.createElement("path",{d:"M12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",fill:"#CCCCCC"})))}var jt,bt=c.forwardRef(dt),ft=(r.p,function(e){var t=e.loadMovie,r=Object(E.b)(),n=Object(c.useState)({error:!1,text:"",type:""}),a=Object(d.a)(n,2),i=a[0],s=a[1],l=Object(E.c)((function(e){return e.movies.movies})),j=l.data,b=l.loading,h=function(){var e=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r(ge(t));case 3:f(!1,"Movie successfully deleted.","alert-success",s,3e3),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),f(!0,e.t0.message,"alert-error",s,3e3);case 9:return e.prev=9,e.next=12,r(me());case 12:return e.finish(9);case 13:case"end":return e.stop()}}),e,null,[[0,6,9,13]])})));return function(t,r){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(me());case 2:case"end":return e.stop()}}),e)})))()}),[r]),Object(w.jsxs)("div",{className:"mt-4",children:[Object(w.jsx)("h2",{children:"Movie List"}),!!i.text&&Object(w.jsx)(S,{data:i.text,type:i.type}),b&&Object(w.jsx)(Ce,{}),(null===j||void 0===j?void 0:j.length)>0?Object(w.jsxs)("table",{className:"table-content",children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"id"}),Object(w.jsx)("th",{children:"name"}),Object(w.jsx)("th",{children:"year"}),Object(w.jsx)("th",{children:"storyline"}),Object(w.jsx)("th",{children:"cast"}),Object(w.jsx)("th",{children:"tags"}),Object(w.jsx)("th",{children:"trailer"}),Object(w.jsx)("th",{children:"image"}),Object(w.jsx)("th",{children:"poster"}),Object(w.jsx)("th",{children:"type"}),Object(w.jsx)("th",{children:"options"})]})}),j.map((function(e){return Object(w.jsx)("tbody",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:e.id.slice(0,4)+"..."}),Object(w.jsx)("td",{children:e.name}),Object(w.jsx)("td",{children:e.year}),Object(w.jsx)("td",{children:e.storyline?e.storyline.slice(0,50)+"...":""}),Object(w.jsx)("td",{children:e.cast}),Object(w.jsx)("td",{children:e.tags&&e.tags.join(", ")}),Object(w.jsx)("td",{children:Object(w.jsx)("div",{className:"flex flex-justify-center",children:e.trailer.length>0?Object(w.jsx)(st,{}):Object(w.jsx)(bt,{})})}),Object(w.jsx)("td",{children:e.image?Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(e.image),children:"URL"}):"null"}),Object(w.jsx)("td",{children:e.poster?Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(e.poster),children:"URL"}):"null"}),Object(w.jsx)("td",{children:e.type}),Object(w.jsx)("td",{children:Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)("a",{href:"#buttons",className:"btn-a btn-secondary me-1",onClick:function(){return h(e.id)},children:Object(w.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[Object(w.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M17.25 6.75L6.75 17.25"}),Object(w.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6.75 6.75L17.25 17.25"})]})}),Object(w.jsx)("a",{href:"#content",className:"btn-a btn-secondary me-1",onClick:function(){return t(e,"movie")},children:Object(w.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[Object(w.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.75 19.25L9 18.25L18.2929 8.95711C18.6834 8.56658 18.6834 7.93342 18.2929 7.54289L16.4571 5.70711C16.0666 5.31658 15.4334 5.31658 15.0429 5.70711L5.75 15L4.75 19.25Z"}),Object(w.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M19.25 19.25H13.75"})]})}),Object(w.jsx)(g.b,{to:"movies/".concat(e.id),className:"btn-a btn-secondary",children:Object(w.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(w.jsx)("path",{d:"M12 9C12.7956 9 13.5587 9.31607 14.1213 9.87868C14.6839 10.4413 15 11.2044 15 12C15 12.7956 14.6839 13.5587 14.1213 14.1213C13.5587 14.6839 12.7956 15 12 15C11.2044 15 10.4413 14.6839 9.87868 14.1213C9.31607 13.5587 9 12.7956 9 12C9 11.2044 9.31607 10.4413 9.87868 9.87868C10.4413 9.31607 11.2044 9 12 9V9ZM12 4.5C17 4.5 21.27 7.61 23 12C21.27 16.39 17 19.5 12 19.5C7 19.5 2.73 16.39 1 12C2.73 7.61 7 4.5 12 4.5ZM3.18 12C3.98825 13.6503 5.24331 15.0407 6.80248 16.0133C8.36165 16.9858 10.1624 17.5013 12 17.5013C13.8376 17.5013 15.6383 16.9858 17.1975 16.0133C18.7567 15.0407 20.0117 13.6503 20.82 12C20.0117 10.3497 18.7567 8.95925 17.1975 7.98675C15.6383 7.01424 13.8376 6.49868 12 6.49868C10.1624 6.49868 8.36165 7.01424 6.80248 7.98675C5.24331 8.95925 3.98825 10.3497 3.18 12V12Z",fill:"#1B1B1B"})})})]})})]})},e.id)})).reverse()]}):Object(w.jsx)(S,{data:"Movies not found",type:"alert-info"})]})}),ht=["label","type","id","refs","fn","button"],pt=function(e){var t=e.label,r=e.type,n=e.id,c=e.refs,a=e.fn,i=e.button,s=Object(De.a)(e,ht);return Object(w.jsxs)("div",{className:"field-button",children:[Object(w.jsxs)("div",{className:"flex-1",children:[Object(w.jsx)("label",{htmlFor:n,className:"form-label",children:t.charAt(0).toUpperCase()+t.slice(1)}),Object(w.jsx)("input",Object(_e.a)({type:r,className:"form-control",id:n,"aria-describedby":n,ref:c},s))]}),Object(w.jsx)("div",{children:Object(w.jsx)("button",{className:"btn-inline btn-secondary field-button--button",onClick:a,children:"".concat(i.length?i:"Click Here")})})]})},Ot=["title","titleId"];function xt(){return(xt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function mt(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function vt(e,t){var r=e.title,n=e.titleId,a=mt(e,Ot);return c.createElement("svg",xt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,jt||(jt=c.createElement("path",{d:"M10 15L15.19 12L10 9V15ZM21.56 7.17C21.69 7.64 21.78 8.27 21.84 9.07C21.91 9.87 21.94 10.56 21.94 11.16L22 12C22 14.19 21.84 15.8 21.56 16.83C21.31 17.73 20.73 18.31 19.83 18.56C19.36 18.69 18.5 18.78 17.18 18.84C15.88 18.91 14.69 18.94 13.59 18.94L12 19C7.81 19 5.2 18.84 4.17 18.56C3.27 18.31 2.69 17.73 2.44 16.83C2.31 16.36 2.22 15.73 2.16 14.93C2.09 14.13 2.06 13.44 2.06 12.84L2 12C2 9.81 2.16 8.2 2.44 7.17C2.69 6.27 3.27 5.69 4.17 5.44C4.64 5.31 5.5 5.22 6.82 5.16C8.12 5.09 9.31 5.06 10.41 5.06L12 5C16.19 5 18.8 5.16 19.83 5.44C20.73 5.69 21.31 6.27 21.56 7.17V7.17Z",fill:"#E5625E"})))}var gt,yt=c.forwardRef(vt),wt=(r.p,["label","type","id","refs"]),Ct=function(e){var t=e.label,r=e.type,n=e.id,c=e.refs,a=Object(De.a)(e,wt);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{htmlFor:n,className:"form-label",children:t.charAt(0).toUpperCase()+t.slice(1)}),Object(w.jsx)("input",Object(_e.a)({type:r,className:"form-control",id:n,"aria-describedby":n,ref:c},a))]})},kt=["label","id","refs"],Nt=function(e){var t=e.label,r=e.id,n=e.refs,c=Object(De.a)(e,kt);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("label",{htmlFor:r,children:t.charAt(0).toUpperCase()+t.slice(1)}),Object(w.jsx)("textarea",Object(_e.a)({className:"form-control",id:r,rows:"3",ref:n},c))]})},Lt=function(){var e=Object(E.b)(),t=Object(c.useState)({error:!1,text:"",type:""}),r=Object(d.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(!0),s=Object(d.a)(i,2),l=s[0],j=s[1],x=Object(c.useState)(!1),m=Object(d.a)(x,2),g=m[0],y=m[1],C=Object(c.useState)(!1),k=Object(d.a)(C,2),N=k[0],L=k[1],M=Object(c.useState)(""),V=Object(d.a)(M,2),I=(V[0],V[1]),H=Object(c.useState)(!0),B=Object(d.a)(H,2),A=B[0],P=B[1],Z=Object(c.useState)(!1),R=Object(d.a)(Z,2),F=R[0],q=R[1],W=Object(c.useState)(null),_=Object(d.a)(W,2),D=_[0],T=_[1],G=Object(c.useRef)(),U=Object(c.useRef)(),Y=Object(c.useRef)(),J=Object(c.useRef)(),z=Object(c.useRef)(),X=Object(c.useRef)(),Q=Object(c.useRef)(),$=Object(c.useRef)(),K=Object(c.useRef)(),ee=Object(c.useRef)(),te=Object(c.useRef)(),re=Object(c.useRef)(),ne=Object(c.useRef)(),ce=Object(c.useRef)(),ae=Object(c.useRef)(),ie=function(){var t=Object(u.a)(o.a.mark((function t(){var r,n,c,i,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=ce.current.checked,n=ae.current.checked,c={name:U.current.value.trim(),year:Y.current.value.trim(),director:J.current.value.trim(),poster:z.current.value.trim(),image:X.current.value.trim(),rating:Q.current.value||0,trailer:$.current.value.trim(),tags:p(ee.current.value),cast:p(K.current.value),storyline:te.current.value.trim(),type:r?"movie":"tv"},r||n||f(!0,"Please select movie or tv.","alert-warning",a,5e3),""!==c.name&&""!==c.year){t.next=7;break}return f(!0,"Please enter a number and/or year.","alert-warning",a,3e3),t.abrupt("return");case 7:return t.next=9,b.from("movies").insert([c]);case 9:return i=t.sent,(s=i.error)?f(!0,s.message,"alert-error",a,3e3):f(!1,"Movie successfully added.","alert-success",a,3e3),t.next=14,e(me());case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),se=function(){var t=Object(u.a)(o.a.mark((function t(){var r,n,c,i,s,l,u,d,j,h,O,x,m,v,g,y;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=G.current.value,n=U.current.value,c=Y.current.value,i=J.current.value,s=z.current.value,l=X.current.value,u=Q.current.value||0,d=$.current.value,j=p(ee.current.value),h=p(K.current.value),O=te.current.value,x=new Date,m=ce.current.checked?"movie":"tv",v={id:r,name:n,year:c,director:i,poster:s,image:l,rating:u,trailer:d,tags:j,cast:h,storyline:O,updated_at:x,type:m},t.next=16,b.from("movies").update(v).eq("id",r);case 16:if(g=t.sent,!(y=g.error)){t.next=22;break}f(!0,y.message,"alert-error",a,9e3),t.next=25;break;case 22:return f(!1,"Movie successfully updated.","alert-success",a,3e3),t.next=25,e(me());case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),le=function(){j(!l),y(!g)},oe=function(){var e=Object(u.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),t=U.current.value,e.prev=2,e.next=5,fetch("http://api.tvmaze.com/search/shows?q=".concat(t));case 5:return r=e.sent,e.next=8,r.json();case 8:n=e.sent,T(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),f(!0,e.t0.message,"alert-error",a,5e3);case 15:L(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"row g-3",children:[Object(w.jsx)("h2",{id:"content",className:"px-4",children:"Add Content"}),D&&D.map((function(e){return Object(w.jsxs)("div",{className:"App-maze-list",children:[Object(w.jsx)("p",{style:{position:"relative"},children:Object(w.jsx)("img",{className:"poster-small",src:e.show.image?e.show.image.medium:"undefined",alt:"poster"})}),Object(w.jsx)("p",{children:e.show.name}),Object(w.jsx)("div",{className:"flex flex-justify-center flex-align-center",children:Object(w.jsx)("a",{target:"_blank",href:"https://www.google.com/search?client=firefox-b-d&q=".concat(e.show.name,"+trailer"),rel:"noreferrer",children:Object(w.jsx)(yt,{})})}),Object(w.jsx)("p",{children:v(e.show.summary,70)}),Object(w.jsx)("p",{children:O(e.show.genres)}),Object(w.jsx)("p",{children:e.show.premiered}),Object(w.jsx)("div",{className:"flex flex-justify-center flex-align-center",children:Object(w.jsx)("button",{className:"btn-icon btn-primary",onClick:function(){return t=e,G.current.value="",U.current.value=t.show.name,Y.current.value=t.show.premiered?t.show.premiered.split("-")[0]:"undefined",z.current.value=t.show.image?t.show.image.medium:"undefined",Q.current.value=t.show.rating.average||0,ee.current.value=O(t.show.genres)||"undefined",void(te.current.value=h(t.show.summary)||"undefined");var t},children:"Select"})})]},e.show.id)})),N&&Object(w.jsx)(Ce,{}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(pt,{label:"name",type:"text",id:"movie-name",refs:U,fn:oe,button:"Api Maze"})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(Ct,{label:"year",type:"text",id:"movie-year",refs:Y})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(Ct,{label:"rating",type:"text",id:"movie-rating",refs:Q})})]}),Object(w.jsxs)("div",{className:"row g-3",children:[Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(Ct,{label:"director",type:"text",id:"movie-director",refs:J})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(Ct,{label:"poster",type:"text",id:"movie-poster",refs:z})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(Ct,{label:"image-url",type:"text",id:"movie-image-url",refs:X,onChange:function(e){return I(e.target.value)}})})]}),Object(w.jsxs)("div",{className:"row g-3",children:[Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(Ct,{label:"trailer URL",type:"text",id:"movie-trailer",refs:$})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(Ct,{label:"cast",type:"text",id:"movie-cast",refs:K})}),Object(w.jsx)("div",{className:"mb-3 col-md-4",children:Object(w.jsx)(Ct,{label:"tags",type:"text",id:"movie-tags",refs:ee})})]}),Object(w.jsx)("div",{className:"row-g-3",children:Object(w.jsx)("div",{className:"mb-3 col-12",children:Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Nt,{label:"storyline",type:"file",id:"movie-storyline",refs:te})})})}),Object(w.jsxs)("div",{className:"row g-3",children:[Object(w.jsx)("div",{className:"mb-3 col-md-6",children:Object(w.jsx)("div",{className:"form-group",children:Object(w.jsx)(Ct,{label:"ID",type:"text",id:"movie-id",refs:G,disabled:!0})})}),Object(w.jsxs)("div",{className:"mb-3 col-md-6 flex flex-align-end",children:[Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{type:"radio",name:"radio-group",id:"radio-movie",checked:l,ref:ce,onChange:le}),Object(w.jsx)("label",{htmlFor:"radio-movie",children:"Movie"})]}),Object(w.jsxs)("div",{className:"form-check",children:[Object(w.jsx)("input",{type:"radio",name:"radio-group",id:"radio-tv",checked:g,ref:ae,onChange:le}),Object(w.jsx)("label",{htmlFor:"radio-tv",children:"TV"})]})]})]}),Object(w.jsx)("div",{className:"mb-3 col-12",children:Object(w.jsxs)("div",{className:"flex mt-3",id:"buttons",children:[Object(w.jsx)("button",{className:"btn-inline btn-success me-2",onClick:ie,children:"Add New Content"}),Object(w.jsx)("button",{className:"btn-inline btn-warning me-2",onClick:se,children:"Update Content"}),Object(w.jsx)("button",{className:"btn-inline btn-error me-2",onClick:function(){G.current.value="",U.current.value="",Y.current.value="",J.current.value="",z.current.value="",X.current.value="",Q.current.value="",$.current.value="",ee.current.value="",K.current.value="",K.current.value="",te.current.value=""},children:"Clear Fields"})]})}),!!n.text&&Object(w.jsx)(S,{data:n.text,type:n.type}),Object(w.jsxs)("section",{className:"mt-5",children:[Object(w.jsxs)("div",{className:"flex flex-align-center",children:[Object(w.jsxs)("button",{className:"btn-inline me-2 ".concat(A?"btn-primary":"btn-secondary"),onClick:function(){ne.current.style.display="none",re.current.style.display="block",A||P(!A),F&&q(!F)},children:[Object(w.jsx)(Ze,{})," movie"]}),Object(w.jsxs)("button",{className:"btn-inline  ".concat(F?"btn-primary":"btn-secondary"),onClick:function(){ne.current.style.display="block",re.current.style.display="none",A&&q(!F),F||P(!A)},children:[Object(w.jsx)(Ie,{})," tv"]})]}),Object(w.jsx)("div",{ref:re,children:Object(w.jsx)(ft,{loadMovie:function(e,t){G.current.value=e.id,U.current.value=e.name,Y.current.value=e.year,J.current.value=e.director,z.current.value=e.poster,X.current.value=e.image,Q.current.value=e.rating||0,$.current.value=e.trailer,ee.current.value=O(e.tags),K.current.value=O(e.cast),te.current.value=h(e.storyline),j("movie"===e.type),y("tv"===e.type)}})}),Object(w.jsx)("div",{ref:ne,style:{display:"none"},children:"2"})]})]})},Mt=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(Lt,{})})},St=["title","titleId"];function Vt(){return(Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Et(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function It(e,t){var r=e.title,n=e.titleId,a=Et(e,St);return c.createElement("svg",Vt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,gt||(gt=c.createElement("path",{d:"M19.9999 11.0001V13.0001H7.99991L13.4999 18.5001L12.0799 19.9201L4.15991 12.0001L12.0799 4.08008L13.4999 5.50008L7.99991 11.0001H19.9999Z",fill:"#1B1B1B"})))}var Ht,Bt=c.forwardRef(It),At=(r.p,["title","titleId"]);function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Zt(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function Rt(e,t){var r=e.title,n=e.titleId,a=Zt(e,At);return c.createElement("svg",Pt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Ht||(Ht=c.createElement("path",{d:"M17 18V5H7V18L12 15.82L17 18ZM17 3C17.5304 3 18.0391 3.21071 18.4142 3.58579C18.7893 3.96086 19 4.46957 19 5V21L12 18L5 21V5C5 4.46957 5.21071 3.96086 5.58579 3.58579C5.96086 3.21071 6.46957 3 7 3H17ZM11 7H13V9H15V11H13V13H11V11H9V9H11V7Z",fill:"#1B1B1B"})))}var Ft,qt=c.forwardRef(Rt),Wt=(r.p,["title","titleId"]);function _t(){return(_t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Dt(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function Tt(e,t){var r=e.title,n=e.titleId,a=Dt(e,Wt);return c.createElement("svg",_t({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Ft||(Ft=c.createElement("path",{d:"M15 13H16.5V15.82L18.94 17.23L18.19 18.53L15 16.69V13ZM19 8H5V19H9.67C9.24 18.09 9 17.07 9 16C9 14.1435 9.7375 12.363 11.0503 11.0503C12.363 9.7375 14.1435 9 16 9C17.07 9 18.09 9.24 19 9.67V8ZM5 21C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 3.89 3.89 3 5 3H6V1H8V3H16V1H18V3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V11.1C22.24 12.36 23 14.09 23 16C23 17.8565 22.2625 19.637 20.9497 20.9497C19.637 22.2625 17.8565 23 16 23C14.09 23 12.36 22.24 11.1 21H5ZM16 11.15C14.7137 11.15 13.4801 11.661 12.5705 12.5705C11.661 13.4801 11.15 14.7137 11.15 16C11.15 18.68 13.32 20.85 16 20.85C16.6369 20.85 17.2676 20.7246 17.856 20.4808C18.4444 20.2371 18.9791 19.8798 19.4295 19.4295C19.8798 18.9791 20.2371 18.4444 20.4808 17.856C20.7246 17.2676 20.85 16.6369 20.85 16C20.85 13.32 18.68 11.15 16 11.15Z",fill:"#1B1B1B"})))}var Gt,Ut=c.forwardRef(Tt),Yt=(r.p,["title","titleId"]);function Jt(){return(Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function zt(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function Xt(e,t){var r=e.title,n=e.titleId,a=zt(e,Yt);return c.createElement("svg",Jt({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Gt||(Gt=c.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12C2.73 16.39 7 19.5 12 19.5C12.36 19.5 12.72 19.5 13.08 19.45C13.0285 19.1359 13.0018 18.8183 13 18.5C13 18.14 13.04 17.78 13.1 17.42C12.74 17.46 12.37 17.5 12 17.5C8.24 17.5 4.83 15.36 3.18 12C3.98825 10.3497 5.24331 8.95925 6.80248 7.98675C8.36165 7.01424 10.1624 6.49868 12 6.49868C13.8376 6.49868 15.6383 7.01424 17.1975 7.98675C18.7567 8.95925 20.0117 10.3497 20.82 12C20.7 12.24 20.56 12.45 20.43 12.68C21.09 12.84 21.72 13.11 22.29 13.5C22.56 13 22.8 12.5 23 12C21.27 7.61 17 4.5 12 4.5ZM12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9ZM18 14.5V17.5H15V19.5H18V22.5H20V19.5H23V17.5H20V14.5H18Z",fill:"#1B1B1B"})))}var Qt,$t=c.forwardRef(Xt),Kt=(r.p,["title","titleId"]);function er(){return(er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tr(e,t){if(null==e)return{};var r,n,c=function(e,t){if(null==e)return{};var r,n,c={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(c[r]=e[r]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(c[r]=e[r])}return c}function rr(e,t){var r=e.title,n=e.titleId,a=tr(e,Kt);return c.createElement("svg",er({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),r?c.createElement("title",{id:n},r):null,Qt||(Qt=c.createElement("path",{d:"M12 15.39L8.24 17.66L9.23 13.38L5.91 10.5L10.29 10.13L12 6.09L13.71 10.13L18.09 10.5L14.77 13.38L15.76 17.66L12 15.39ZM22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.45 13.97L5.82 21L12 17.27L18.18 21L16.54 13.97L22 9.24Z",fill:"#1B1B1B"})))}var nr=c.forwardRef(rr),cr=(r.p,Object(T.b)({name:"login",initialState:{loading:!1,data:null,error:null},reducers:{sucLoginUser:function(e,t){e.loading=!1,e.data=t.payload}}})),ar=Object(T.b)({name:"watchlist",initialState:{loading:!1,data:null,error:null},reducers:{reqWatchlist:function(e){e.loading=!0,e.error=null},sucWatchlist:function(e,t){e.loading=!1,e.data=t.payload},errWatchlist:function(e,t){e.loading=!1,e.error=t.payload}}}),ir=Object(T.b)({name:"watchlist-add",initialState:{loading:!1,data:null,error:null},reducers:{reqAddWatchlist:function(e){e.loading=!0,e.error=null},sucAddWatchlist:function(e,t){e.loading=!1,e.data=t.payload},errAddWatchlist:function(e,t){e.loading=!1,e.error=t.payload}}}),sr=Object(G.b)({login:cr.reducer,watchlist:ar.reducer}),lr=cr.actions.sucLoginUser,or=ar.actions,ur=or.reqWatchlist,dr=or.sucWatchlist,jr=or.errWatchlist,br=ir.actions,fr=br.reqAddWatchlist,hr=(br.sucAddWatchlist,br.errAddWatchlist,sr),pr=function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(ur());case 2:return t.next=4,b.from("watchlist").select("*").eq("user_id",e);case 4:n=t.sent,c=n.data,a=n.error,r(a?jr(a):dr(c));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Or=function(e,t){return function(){var r=Object(u.a)(o.a.mark((function r(n){var c,a,i,s,l,u;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(fr());case 2:return r.next=4,b.from("watchlist").select("*").eq("id",t).single();case 4:if(c=r.sent,a=c.data,null===(i=a.items)&&(i=[]),!i.includes(e)){r.next=10;break}return r.abrupt("return",{message:"The item is already on your watchlist."});case 10:return i.push(e),r.next=13,b.from("watchlist").update([{items:i}],{upsert:!0}).eq("id",t);case 13:if(s=r.sent,l=s.data,!(u=s.error)){r.next=20;break}return r.abrupt("return",u);case 20:console.log(l);case 21:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},xr=function(){var e=Object(Ne.g)().id,t=Object(Ne.f)(),r=Object(E.b)(),n=Object(c.useState)(!1),a=Object(d.a)(n,2),i=a[0],s=a[1],l=Object(c.useState)({error:null,text:null,type:null}),j=Object(d.a)(l,2),b=j[0],f=j[1],h=Object(E.c)((function(e){return e.movies.movie})),p=h.data,O=h.loading,x=Object(E.c)((function(e){return e.user.login})).data,v=Object(E.c)((function(e){return e.user.watchlist})).data,y=function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(Or(p.id,t));case 2:n=e.sent,console.log(n),f(n?{error:!0,text:n.message,type:"alert-error"}:{error:!1,text:"Item successfully added.",type:"alert-success"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,r(ve(e));case 3:return t.next=5,r(we(e));case 5:if(!x){t.next=8;break}return t.next=8,r(pr(x.id));case 8:case"end":return t.stop()}}),t)})))()}),[r,e,x]),Object(w.jsx)("div",{children:O?Object(w.jsx)(Ce,{}):p&&Object(w.jsxs)("div",{children:[Object(w.jsxs)("button",{className:"btn-inline",onClick:function(){return t.goBack()},children:[Object(w.jsx)(Bt,{})," Back"]}),Object(w.jsx)("h2",{children:p.name}),Object(w.jsxs)("p",{className:"text-small",children:["Year: ",p.year," - Views: ",p.views||0," - ",p.year]}),!!b.text&&Object(w.jsx)(S,{data:b.text,type:b.type}),Object(w.jsxs)("div",{className:"flex",children:[Object(w.jsx)("div",{children:Object(w.jsx)("img",{className:"poster",src:p.poster||ke,alt:p.name})}),Object(w.jsx)("div",{style:{display:"none"},className:"videoContainer",children:Object(w.jsx)("div",{className:"videoWrapper",children:Object(w.jsx)("iframe",{title:"YouTube video player",frameBorder:"0",allowFullScreen:!0,width:"560",height:"349",src:m(p.trailer||"")})})}),Object(w.jsxs)("div",{className:"relative flex flex-column",children:[Object(w.jsxs)("button",{className:"btn-inline mb-1",onClick:function(){s(!i)},children:[Object(w.jsx)(qt,{})," Add to watchlist"]}),i&&v&&v.map((function(e){return Object(w.jsx)("button",{className:"btn-inline btn-info mb-1",onClick:function(){return y(e.id)},children:e.name},e.id)})),Object(w.jsxs)("button",{className:"btn-inline btn-success mb-1",children:[Object(w.jsx)(Ut,{})," Will watch"]}),Object(w.jsxs)("button",{className:"btn-inline btn-error mb-1",children:[Object(w.jsx)($t,{})," Watched"]}),Object(w.jsxs)("button",{className:"btn-inline btn-warning mb-1",children:[Object(w.jsx)(nr,{})," Add to favorite"]})]})]}),Object(w.jsx)("div",{className:"App-tags mt-3",children:p.tags&&p.tags.map((function(e,t){return Object(w.jsx)(g.b,{to:"../genre/".concat(e.trim()),children:Object(w.jsx)("span",{children:e})},t)}))}),Object(w.jsx)("h3",{className:"mt-4 pb-3 before",children:"Storyline"}),Object(w.jsx)("div",{className:"App-details",children:Object(w.jsx)("p",{children:p.storyline})}),Object(w.jsx)("h3",{className:"mt-4 pb-3 before",children:"Details"}),Object(w.jsxs)("div",{className:"App-details",children:[Object(w.jsxs)("p",{children:[Object(w.jsx)("b",{children:"Director:"}),p.director]}),Object(w.jsxs)("p",{children:[Object(w.jsx)("b",{children:"Stars:"}),p.cast]}),Object(w.jsxs)("p",{children:[Object(w.jsx)("b",{children:"Year:"}),p.year]})]})]})})},mr=r.p+"static/media/mdi_facebook2.a67d96b1.svg",vr=r.p+"static/media/mdi_instagram.1b2fd129.svg",gr=r.p+"static/media/mdi_twitch.cd390355.svg",yr=r.p+"static/media/mdi_twitter.fce2c6cc.svg",wr=function(){return Object(w.jsx)("footer",{children:Object(w.jsxs)("div",{className:"mt-4",children:[Object(w.jsx)(C,{}),Object(w.jsxs)("div",{className:"flex gap-2 mt-4 flex-justify-center",children:[Object(w.jsx)("a",{href:"#facebook",children:Object(w.jsx)("img",{className:"App-footer-icon",src:mr,alt:"Facebook"})}),Object(w.jsx)("a",{href:"#instagram",children:Object(w.jsx)("img",{className:"App-footer-icon",src:vr,alt:"Instagram"})}),Object(w.jsx)("a",{href:"#twitter",children:Object(w.jsx)("img",{className:"App-footer-icon",src:yr,alt:"Twitter"})}),Object(w.jsx)("a",{href:"#twitch",children:Object(w.jsx)("img",{className:"App-footer-icon",src:gr,alt:"Twitch"})})]}),Object(w.jsxs)("div",{className:"flex gap-2 mt-4 flex-justify-center App-footer--links",children:[Object(w.jsx)(g.b,{to:"/",children:"HOME"}),Object(w.jsx)(g.b,{to:"/movies",children:"Movies"}),Object(w.jsx)(g.b,{to:"/tv",children:"Tv"}),Object(w.jsx)(g.b,{to:"/add",children:"Add"}),Object(w.jsx)(g.b,{to:"/",children:"Help"}),Object(w.jsx)(g.b,{to:"/",children:"Contact"})]})]})})},Cr=function(){var e=Object(Ne.g)().term,t=Object(Ne.f)(),r=Object(c.useState)(),n=Object(d.a)(r,2),a=n[0],i=n[1];return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function t(){var r,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.from("movies").select("*").cs("tags",[e]);case 2:return r=t.sent,n=r.data,t.next=6,i(n);case 6:case"end":return t.stop()}}),t)})))()}),[e]),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{children:Object(w.jsxs)("button",{className:"btn-inline",onClick:function(){return t.goBack()},children:[Object(w.jsx)(Bt,{})," Back"]})}),Object(w.jsx)("h2",{children:"Movies"}),Object(w.jsx)("div",{className:"flex wrap gap-1 flex-justify-center",children:a&&a.map((function(e){return Object(w.jsx)(g.b,{to:"../movies/".concat(e.id),className:"App-card-container",children:Object(w.jsxs)("div",{className:"App-card",children:[Object(w.jsx)("img",{className:"poster",src:e.poster||ke,alt:e.name}),Object(w.jsxs)("div",{className:"p-2",children:[Object(w.jsx)("h5",{children:e.name}),Object(w.jsx)("p",{className:"App-card--p text-small mt-2",children:e.storyline.slice(0,60)+"..."||!1})]})]})},e.id)}))})]})},kr=function(){var e=Object(c.useRef)(),t=Object(c.useState)(null),r=Object(d.a)(t,2),n=r[0],a=r[1],i=Object(c.useState)(null),s=Object(d.a)(i,2),l=s[0],j=s[1],f=Object(c.useState)(null),h=Object(d.a)(f,2),p=h[0],O=h[1],m=Object(E.b)(),v=Object(E.c)((function(e){return e.user.login})).data,g=function(){var t=Object(u.a)(o.a.mark((function t(){var r,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(r=e.current.value).length){t.next=4;break}return O("Invalid name."),t.abrupt("return");case 4:if(!v){t.next=16;break}return t.next=7,b.from("watchlist").insert({name:r,user_id:n.user_id});case 7:if(c=t.sent,!(a=c.error)){t.next=13;break}console.log(a),t.next=16;break;case 13:return O("Watchlist successfully created."),t.next=16,m(pr(v.id));case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.from("watchlist").delete().eq("id",t);case 2:if(r=e.sent,!(n=r.error)){e.next=8;break}console.log(n),e.next=11;break;case 8:return O("Watchlist successfully deleted."),e.next=11,m(pr(v.id));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var t=Object(u.a)(o.a.mark((function t(r){var n,c,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(n=e.current.value).length){t.next=4;break}return O("Invalid name."),t.abrupt("return");case 4:return t.next=6,b.from("watchlist").update({name:n,updated_at:new Date}).eq("id",r);case 6:if(c=t.sent,!(a=c.error)){t.next=12;break}console.log(a),t.next=14;break;case 12:return t.next=14,m(pr(v.id));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){Object(u.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=9;break}return e.next=3,b.from("profile").select("*").eq("user_id",v.id).single();case 3:return t=e.sent,r=t.data,(n=t.error)?console.log(n):a(r),e.next=9,m(pr(v.id));case 9:case"end":return e.stop()}}),e)})))(),Object(u.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=8;break}return e.next=3,b.from("watchlist").select("*").eq("user_id",v.id).order("updated_at",{ascending:!1});case 3:t=e.sent,r=t.data,(n=t.error)&&console.log(n),j(r);case 8:case"end":return e.stop()}}),e)})))()}),[v,m]),Object(w.jsxs)("div",{children:[Object(w.jsxs)("div",{className:"App-profile--user",children:[Object(w.jsx)("h2",{children:"Profile"}),Object(w.jsxs)("div",{className:"p-4",children:[Object(w.jsx)("div",{children:null===v||void 0===v?void 0:v.id}),Object(w.jsxs)("div",{children:[Object(w.jsx)("h4",{children:(null===n||void 0===n?void 0:n.name)||"Anonymous_"}),Object(w.jsxs)("small",{children:[null===v||void 0===v?void 0:v.email," - Registration day ",x(null===v||void 0===v?void 0:v.created_at)]})]})]})]}),Object(w.jsxs)("div",{className:"App-watchlist p-4",children:[Object(w.jsx)("h3",{className:"before",children:"Watchlist"}),!!p&&Object(w.jsx)(S,{data:p,type:"alert-success"}),Object(w.jsx)("div",{className:"row g-3",children:Object(w.jsx)("div",{className:"mb-3 col-md-12",children:Object(w.jsx)(pt,{label:"name",type:"text",id:"movie-name",refs:e,fn:g,button:"Create a new watchlist"})})}),Object(w.jsx)("br",{}),Object(w.jsx)("h3",{className:"before",children:"Lists"}),Object(w.jsxs)("table",{children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"Options"})]})}),Object(w.jsx)("tbody",{children:l&&l.map((function(e){return Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:Object(w.jsx)("button",{className:"btn btn-secondary",onClick:function(){return e.id,void console.log(1)},children:e.name})}),Object(w.jsxs)("td",{children:[Object(w.jsx)("button",{className:"btn-icon btn-error",onClick:function(){return y(e.id)},children:"delete"}),Object(w.jsx)("button",{className:"btn-icon btn-info",onClick:function(){return C(e.id)},children:"save"}),Object(w.jsx)("button",{className:"btn-icon btn-secondary",onClick:function(){return 1},children:"edit"})]})]},e.id)}))})]}),Object(w.jsx)("div",{className:"App-watchlist-list",children:"null"})]})]})},Nr=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2);t[0],t[1];Object(c.useEffect)((function(){}),[]);return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"container",children:[Object(w.jsx)(Fe,{}),Object(w.jsxs)(Ne.c,{children:[Object(w.jsx)(Ge,{exact:!0,path:"/",component:tt}),Object(w.jsx)(Ge,{exact:!0,path:"/add",component:Mt}),Object(w.jsx)(Ne.a,{exact:!0,path:"/movies",component:We}),Object(w.jsx)(Ne.a,{exact:!0,path:"/movies/:id",component:xr}),Object(w.jsx)(Ne.a,{exact:!0,path:"/genre/:term",component:Cr}),Object(w.jsx)(Ne.a,{exact:!0,path:"/profile/:id",component:kr})]})]}),Object(w.jsx)(wr,{})]})};var Lr=function(){var e=Object(c.useState)(null),t=Object(d.a)(e,2),r=t[0],n=t[1],a=Object(E.b)();return Object(c.useEffect)((function(){var e,t=b.auth.session();n(null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:null),a(function(e){return function(){var t=Object(u.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(lr(e));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(null===t||void 0===t?void 0:t.user));var r=b.auth.onAuthStateChange(function(){var e=Object(u.a)(o.a.mark((function e(t,r){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=null===r||void 0===r?void 0:r.user,n(null!==c&&void 0!==c?c:null);case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()).data;return function(){null===r||void 0===r||r.unsubscribe()}}),[r,a]),Object(w.jsx)("div",{children:r?Object(w.jsx)(Nr,{user:r}):Object(w.jsx)(V,{})})},Mr=r(23),Sr=Object(Mr.a)(Object(T.c)()),Vr=Object(G.b)({user:hr,movies:xe}),Er=Object(T.a)({reducer:Vr,middleware:Sr});s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(E.a,{store:Er,children:Object(w.jsx)(g.a,{children:Object(w.jsx)(Lr,{})})})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.7ec52934.chunk.js.map